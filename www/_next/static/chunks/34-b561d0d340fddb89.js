"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34],{2797:function(e,t,n){n.d(t,{e:function(){return a}});var r=n(7437),s=n(2265);function a(e){let{service:t}=e;var n,a;const[c,d]=(0,s.useState)(null),[u,h]=(0,s.useState)(null);return(0,s.useEffect)((()=>{const e=e=>d(e),n=e=>h(e);return t.on("eegUpdate",e),t.on("hrvUpdate",n),()=>{t.off("eegUpdate",e),t.off("hrvUpdate",n)}}),[t]),(0,r.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm border border-purple-500/30 rounded-lg p-4",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:["\ud83e\udde0 Neural Stream",(0,r.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,r.jsx)(i,{channel:"FP1",data:null===c||void 0===c?void 0:c.fp1}),(0,r.jsx)(i,{channel:"FP2",data:null===c||void 0===c?void 0:c.fp2}),(0,r.jsx)(i,{channel:"T7",data:null===c||void 0===c?void 0:c.t7}),(0,r.jsx)(i,{channel:"T8",data:null===c||void 0===c?void 0:c.t8})]}),(0,r.jsxs)("div",{className:"grid grid-cols-5 gap-2 mb-4",children:[(0,r.jsx)(o,{band:"\u03b4",label:"Delta",value:null===c||void 0===c?void 0:c.delta,color:"bg-blue-500"}),(0,r.jsx)(o,{band:"\u03b8",label:"Theta",value:null===c||void 0===c?void 0:c.theta,color:"bg-purple-500"}),(0,r.jsx)(o,{band:"\u03b1",label:"Alpha",value:null===c||void 0===c?void 0:c.alpha,color:"bg-green-500"}),(0,r.jsx)(o,{band:"\u03b2",label:"Beta",value:null===c||void 0===c?void 0:c.beta,color:"bg-red-500"}),(0,r.jsx)(o,{band:"\u03b3",label:"Gamma",value:null===c||void 0===c?void 0:c.gamma,color:"bg-orange-500"})]}),(0,r.jsxs)("div",{className:"bg-black/30 rounded-lg p-3",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-purple-300 mb-2",children:"\ud83e\udec0 Heart Coherence"}),(0,r.jsx)(l,{value:null===u||void 0===u?void 0:u.coherence}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-2 text-xs",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"HR:"}),(0,r.jsxs)("span",{className:"text-white ml-1",children:[(null===u||void 0===u||null===(n=u.heartRate)||void 0===n?void 0:n.toFixed(0))||"--"," BPM"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"RMSSD:"}),(0,r.jsxs)("span",{className:"text-white ml-1",children:[(null===u||void 0===u||null===(a=u.rmssd)||void 0===a?void 0:a.toFixed(1))||"--"," ms"]})]})]})]})]})}function i(e){let{channel:t,data:n}=e;if(!n||0===n.length)return(0,r.jsx)("div",{className:"bg-black/30 rounded p-2 h-16 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-gray-500 text-xs",children:[t,": No signal"]})});const s=120/n.length,a=n.map(((e,t)=>{const n=t*s,r=20-e/100*10;return 0===t?"M ".concat(n," ").concat(r):"L ".concat(n," ").concat(r)})).join(" ");return(0,r.jsxs)("div",{className:"bg-black/30 rounded p-2",children:[(0,r.jsx)("div",{className:"text-xs text-purple-300 mb-1",children:t}),(0,r.jsxs)("svg",{width:120,height:40,className:"w-full",children:[(0,r.jsx)("path",{d:a,stroke:"#10b981",strokeWidth:"1",fill:"none",className:"drop-shadow-sm"}),(0,r.jsx)("line",{x1:"0",y1:20,x2:120,y2:20,stroke:"#374151",strokeWidth:"1",strokeDasharray:"2,2"})]})]})}function o(e){let{band:t,label:n,value:s,color:a}=e;const i=100*(s||0),o=Math.min(i/80,1);return(0,r.jsxs)("div",{className:"bg-black/30 rounded p-2 text-center",children:[(0,r.jsx)("div",{className:"text-lg font-bold text-white",children:t}),(0,r.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:n}),(0,r.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-1",children:(0,r.jsx)("div",{className:"".concat(a," h-2 rounded-full transition-all duration-300"),style:{width:"".concat(i,"%"),opacity:.3+.7*o}})}),(0,r.jsxs)("div",{className:"text-xs text-white",children:[i.toFixed(0),"%"]})]})}function l(e){let{value:t}=e;const n=t||0,s=100*n;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-sm text-gray-400",children:"Coherence:"}),(0,r.jsx)("span",{className:"text-sm px-2 py-1 rounded ".concat((a=n,a>.7?"text-green-400 bg-green-500/20":a>.4?"text-yellow-400 bg-yellow-500/20":"text-red-400 bg-red-500/20")),children:(e=>e>.7?"High Coherence":e>.4?"Medium Coherence":"Low Coherence")(n)})]}),(0,r.jsxs)("div",{className:"relative w-16 h-16 mx-auto",children:[(0,r.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[(0,r.jsx)("circle",{cx:"50",cy:"50",r:"45",stroke:"#374151",strokeWidth:"8",fill:"transparent"}),(0,r.jsx)("circle",{cx:"50",cy:"50",r:"45",stroke:n>.7?"#10b981":n>.4?"#f59e0b":"#ef4444",strokeWidth:"8",fill:"transparent",strokeDasharray:"".concat(2*Math.PI*45),strokeDashoffset:"".concat(2*Math.PI*45*(1-n)),className:"transition-all duration-500"})]}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsxs)("span",{className:"text-xs text-white font-bold",children:[s.toFixed(0),"%"]})})]})]});var a}},4404:function(e,t,n){n.d(t,{r:function(){return a}});var r=n(7437),s=n(2265);function a(e){let{service:t}=e;var n,a,l,c;const[d,u]=(0,s.useState)(null),h=(0,s.useRef)(null);return(0,s.useEffect)((()=>{const e=e=>u(e);return t.on("fieldUpdate",e),()=>{t.off("fieldUpdate",e)}}),[t]),(0,s.useEffect)((()=>{d&&h.current&&function(e,t){var n;const r=e.getContext("2d");if(!r)return;const s=e.width,a=e.height,i=s/2,o=a/2;r.fillStyle="rgba(0, 0, 0, 0.1)",r.fillRect(0,0,s,a);const l=60,c=t.torus.coherence,d=t.torus.flow;r.strokeStyle="rgba(147, 51, 234, ".concat(c,")"),r.lineWidth=3,r.beginPath(),r.ellipse(i,o,l,.3*l,0,0,2*Math.PI),r.stroke(),r.strokeStyle="rgba(34, 197, 94, ".concat(d,")"),r.lineWidth=2,r.beginPath(),r.ellipse(i,o,.6*l,.2*l,0,0,2*Math.PI),r.stroke(),null===(n=t.couplings)||void 0===n||n.forEach(((e,n)=>{const s=n/t.couplings.length*2*Math.PI,a=l+20,c=i+Math.cos(s)*a,d=o+Math.sin(s)*a*.3;r.fillStyle="rgba(34, 197, 94, ".concat(e.coupling,")"),r.beginPath(),r.arc(c,d,3+3*e.amplitude,0,2*Math.PI),r.fill(),r.strokeStyle="rgba(34, 197, 94, ".concat(.5*e.coupling,")"),r.lineWidth=1,r.beginPath(),r.moveTo(i,o),r.lineTo(c,d),r.stroke()})),r.fillStyle="rgba(147, 51, 234, ".concat(t.coherenceField,")"),r.beginPath(),r.arc(i,o,8,0,2*Math.PI),r.fill(),t.coherenceField>.7&&(r.shadowColor="#9333ea",r.shadowBlur=20,r.fillStyle="rgba(147, 51, 234, ".concat(.3*t.coherenceField,")"),r.beginPath(),r.arc(i,o,20,0,2*Math.PI),r.fill(),r.shadowBlur=0)}(h.current,d)}),[d]),(0,r.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm border border-purple-500/30 rounded-lg p-4",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:["\ud83c\udf00 Consciousness Field",(0,r.jsx)("div",{className:"text-sm text-purple-300",children:(null===d||void 0===d?void 0:d.torus.geometry)||"Initializing..."})]}),(0,r.jsxs)("div",{className:"relative bg-black/30 rounded-lg p-4 h-64 mb-4",children:[(0,r.jsx)("canvas",{ref:h,width:400,height:200,className:"w-full h-full"}),(0,r.jsxs)("div",{className:"absolute top-4 right-4 bg-black/60 rounded p-2 text-xs",children:[(0,r.jsx)("div",{className:"text-purple-300",children:"Coherence Field"}),(0,r.jsxs)("div",{className:"text-white font-bold",children:[(100*((null===d||void 0===d?void 0:d.coherenceField)||0)).toFixed(1),"%"]})]}),(0,r.jsxs)("div",{className:"absolute bottom-4 left-4 bg-black/60 rounded p-2 text-xs",children:[(0,r.jsx)("div",{className:"text-purple-300 mb-1",children:"Active Patterns"}),(null===d||void 0===d||null===(n=d.recognizedPatterns)||void 0===n?void 0:n.map(((e,t)=>(0,r.jsxs)("div",{className:"text-green-300",children:["\u2022 ",e]},t))))||(0,r.jsx)("div",{className:"text-gray-400",children:"No patterns detected"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,r.jsx)(i,{label:"Torus Coherence",value:(null===d||void 0===d?void 0:d.torus.coherence)||0,icon:"\ud83c\udf00"}),(0,r.jsx)(i,{label:"Symmetry",value:(null===d||void 0===d?void 0:d.torus.symmetry)||0,icon:"\u2696\ufe0f"}),(0,r.jsx)(i,{label:"Flow",value:(null===d||void 0===d?void 0:d.torus.flow)||0,icon:"\ud83c\udf0a"}),(0,r.jsx)(i,{label:"Coupling",value:(null===d||void 0===d||null===(a=d.couplings)||void 0===a?void 0:a.reduce(((e,t)=>e+t.coupling),0))/((null===d||void 0===d||null===(l=d.couplings)||void 0===l?void 0:l.length)||1)||0,icon:"\ud83d\udd17"})]}),(0,r.jsxs)("div",{className:"bg-black/30 rounded-lg p-3",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-purple-300 mb-2",children:"QRI Coupling Kernels"}),(0,r.jsx)("div",{className:"space-y-1",children:(null===d||void 0===d||null===(c=d.couplings)||void 0===c?void 0:c.slice(0,3).map(((e,t)=>(0,r.jsx)(o,{coupling:e},t))))||(0,r.jsx)("div",{className:"text-gray-400 text-xs",children:"Analyzing coupling patterns..."})})]})]})}function i(e){let{label:t,value:n,icon:s}=e;const a=100*n;return(0,r.jsxs)("div",{className:"bg-black/30 rounded p-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)("span",{children:s}),(0,r.jsx)("span",{className:"text-xs text-purple-300",children:t})]}),(0,r.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-1",children:(0,r.jsx)("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(a,"%")}})}),(0,r.jsxs)("div",{className:"text-white text-sm font-bold",children:[a.toFixed(1),"%"]})]})}function o(e){let{coupling:t}=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,r.jsxs)("div",{className:"text-gray-300",children:[t.frequency.toFixed(1)," Hz"]}),(0,r.jsx)("div",{className:"flex-1 mx-2",children:(0,r.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-1",children:(0,r.jsx)("div",{className:"bg-cyan-400 h-1 rounded-full transition-all duration-300",style:{width:"".concat(100*t.coupling,"%")}})})}),(0,r.jsxs)("div",{className:"text-white",children:[(100*t.coupling).toFixed(0),"%"]})]})}},705:function(e,t,n){n.d(t,{x:function(){return a}});var r=n(7437),s=n(2265);function a(e){let{service:t}=e;const[n,a]=(0,s.useState)(null);(0,s.useEffect)((()=>{const e=e=>a(e);return t.on("eegUpdate",e),()=>t.off("eegUpdate",e)}),[t]);return(0,r.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm border border-purple-500/30 rounded-lg p-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"\ud83d\udcca Frequency Analysis"}),(0,r.jsx)("div",{className:"space-y-3",children:[{name:"Delta",key:"delta",color:"bg-blue-500",range:"0.5-4 Hz"},{name:"Theta",key:"theta",color:"bg-purple-500",range:"4-8 Hz"},{name:"Alpha",key:"alpha",color:"bg-green-500",range:"8-12 Hz"},{name:"Beta",key:"beta",color:"bg-red-500",range:"12-30 Hz"},{name:"Gamma",key:"gamma",color:"bg-orange-500",range:"30+ Hz"}].map((e=>{const t=100*((null===n||void 0===n?void 0:n[e.key])||0);return(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-white",children:e.name}),(0,r.jsx)("span",{className:"text-gray-400",children:e.range})]}),(0,r.jsxs)("div",{className:"w-full bg-gray-700 rounded-full h-4 relative",children:[(0,r.jsx)("div",{className:"".concat(e.color," h-4 rounded-full transition-all duration-300"),style:{width:"".concat(t,"%")}}),(0,r.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center text-xs text-white font-bold",children:[t.toFixed(1),"%"]})]})]},e.key)}))})]})}},7670:function(e,t,n){n.d(t,{Q:function(){return a}});var r=n(7437),s=n(2265);function a(e){let{service:t}=e;const[n,a]=(0,s.useState)(null);(0,s.useEffect)((()=>{const e=e=>a(e);return t.on("guardianUpdate",e),()=>{t.off("guardianUpdate",e)}}),[t]);const d=(e=>{if(!e)return"unknown";const t=[e.field,e.psyche,e.soma,e.meaning];return t.includes("emergency")?"emergency":t.includes("warning")?"warning":t.includes("caution")?"caution":"safe"})(n);return(0,r.jsxs)("div",{className:"bg-gray-900/50 backdrop-blur-sm border border-purple-500/30 rounded-lg p-4",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:["\ud83d\udee1\ufe0f Guardian Protocol",(0,r.jsx)(c,{status:d})]}),(0,r.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,r.jsx)(i,{layer:"Field",status:(null===n||void 0===n?void 0:n.field)||"unknown",icon:"\u26a1",description:"Electromagnetic coherence"}),(0,r.jsx)(i,{layer:"Psyche",status:(null===n||void 0===n?void 0:n.psyche)||"unknown",icon:"\ud83c\udf0a",description:"Archetypal patterns"}),(0,r.jsx)(i,{layer:"Soma",status:(null===n||void 0===n?void 0:n.soma)||"unknown",icon:"\ud83e\udec0",description:"Nervous system state"}),(0,r.jsx)(i,{layer:"Meaning",status:(null===n||void 0===n?void 0:n.meaning)||"unknown",icon:"\u2728",description:"Integration capacity"})]}),(0,r.jsxs)("div",{className:"bg-black/30 rounded-lg p-3 mb-4",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-purple-300 mb-2",children:"Window of Tolerance"}),(0,r.jsx)(o,{state:(null===n||void 0===n?void 0:n.window)||"optimal"})]}),(null===n||void 0===n?void 0:n.alerts)&&n.alerts.length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-purple-300",children:"Active Alerts"}),n.alerts.map((e=>(0,r.jsx)(l,{alert:e},e.id)))]}),(!(null===n||void 0===n?void 0:n.alerts)||0===n.alerts.length)&&(0,r.jsx)("div",{className:"text-center py-4 text-gray-400 text-sm",children:"\u2705 All systems nominal"})]})}function i(e){let{layer:t,status:n,icon:s,description:a}=e;return(0,r.jsx)("div",{className:"border rounded-lg p-3 ".concat((e=>{switch(e){case"safe":return"bg-green-500/20 border-green-500/50 text-green-400";case"caution":return"bg-yellow-500/20 border-yellow-500/50 text-yellow-400";case"warning":return"bg-orange-500/20 border-orange-500/50 text-orange-400";case"emergency":return"bg-red-500/20 border-red-500/50 text-red-400 animate-pulse";default:return"bg-gray-500/20 border-gray-500/50 text-gray-400"}})(n)),children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-lg",children:s}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-semibold",children:t}),(0,r.jsx)("div",{className:"text-xs opacity-75",children:a})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{children:(e=>{switch(e){case"safe":return"\u2705";case"caution":return"\u26a0\ufe0f";case"warning":return"\ud83d\udfe0";case"emergency":return"\ud83d\udea8";default:return"\u2753"}})(n)}),(0,r.jsx)("span",{className:"text-sm font-semibold capitalize",children:n})]})]})})}function o(e){let{state:t}=e;const n=e=>{switch(e){case"optimal":return"bg-green-500";case"hyperarousal":return"bg-yellow-500";case"hypoarousal":return"bg-blue-500";case"overwhelm":return"bg-red-500";default:return"bg-gray-500"}};return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-sm font-semibold capitalize",children:t}),(0,r.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(n(t))})]}),(0,r.jsxs)("div",{className:"relative h-8 bg-gray-700 rounded-lg overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-y-1 left-1/4 right-1/4 bg-green-500/30 rounded"}),(0,r.jsx)("div",{className:"absolute inset-y-0 w-1 ".concat(n(t)," transition-all duration-500"),style:{left:"hypoarousal"===t?"10%":"optimal"===t?"45%":"hyperarousal"===t?"75%":"90%"}}),(0,r.jsxs)("div",{className:"absolute inset-x-0 -bottom-5 flex justify-between text-xs text-gray-400",children:[(0,r.jsx)("span",{children:"Low"}),(0,r.jsx)("span",{children:"Optimal"}),(0,r.jsx)("span",{children:"High"}),(0,r.jsx)("span",{children:"Over"})]})]}),(0,r.jsx)("div",{className:"text-xs text-gray-300 mt-4",children:(e=>{switch(e){case"optimal":return"Balanced arousal - ideal for learning and growth";case"hyperarousal":return"High activation - may need calming";case"hypoarousal":return"Low activation - may need gentle stimulation";case"overwhelm":return"Outside window - requires immediate support";default:return"State unknown"}})(t)})]})}function l(e){let{alert:t}=e;return(0,r.jsxs)("div",{className:"border rounded-lg p-3 ".concat((e=>{switch(e){case"info":return"bg-blue-500/20 border-blue-500/50 text-blue-400";case"warning":return"bg-yellow-500/20 border-yellow-500/50 text-yellow-400";case"critical":return"bg-red-500/20 border-red-500/50 text-red-400 animate-pulse";default:return"bg-gray-500/20 border-gray-500/50 text-gray-400"}})(t.type)),children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{children:(e=>{switch(e){case"info":return"\u2139\ufe0f";case"warning":return"\u26a0\ufe0f";case"critical":return"\ud83d\udea8";default:return"\u2753"}})(t.type)}),(0,r.jsx)("span",{children:(e=>{switch(e){case"field":return"\u26a1";case"psyche":return"\ud83c\udf0a";case"soma":return"\ud83e\udec0";case"meaning":return"\u2728";default:return"\u2753"}})(t.layer)}),(0,r.jsx)("span",{className:"text-sm font-semibold capitalize",children:t.layer})]}),(0,r.jsx)("span",{className:"text-xs opacity-75",children:(e=>{const t=Math.floor((Date.now()-e)/1e3);if(t<60)return"".concat(t,"s ago");const n=Math.floor(t/60);return n<60?"".concat(n,"m ago"):"".concat(Math.floor(n/60),"h ago")})(t.timestamp)})]}),(0,r.jsx)("div",{className:"text-sm mb-2",children:t.message}),t.recommendations.length>0&&(0,r.jsxs)("div",{className:"text-xs space-y-1",children:[(0,r.jsx)("div",{className:"opacity-75",children:"Recommendations:"}),t.recommendations.map(((e,t)=>(0,r.jsxs)("div",{className:"opacity-90",children:["\u2022 ",e]},t)))]})]})}function c(e){let{status:t}=e;const n=(e=>{switch(e){case"safe":return{color:"bg-green-400",text:"All Clear"};case"caution":return{color:"bg-yellow-400",text:"Monitoring"};case"warning":return{color:"bg-orange-400",text:"Alert"};case"emergency":return{color:"bg-red-400 animate-pulse",text:"Emergency"};default:return{color:"bg-gray-400",text:"Unknown"}}})(t);return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(n.color)}),(0,r.jsx)("span",{className:"text-sm font-medium",children:n.text})]})}},5917:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7437),s=n(2265);function a(e){let{service:t}=e;const[n,a]=(0,s.useState)(null),[i,o]=(0,s.useState)(!1),l=(0,s.useRef)(null);(0,s.useEffect)((()=>{const e=e=>{a(e),c(e)},n=()=>o(!0),r=()=>o(!1);return t.on("nowUpdate",e),t.on("connected",n),t.on("disconnected",r),()=>{t.off("nowUpdate",e),t.off("connected",n),t.off("disconnected",r)}}),[t]);const c=e=>{const t=l.current;if(!t)return;const n=t.getContext("2d");if(!n)return;n.clearRect(0,0,t.width,t.height);const r=t.width/2,s=t.height/2;e.windows.forEach(((e,t)=>{const a=30+25*t,i=Math.min(e.synchrony,.8)+.2;if(n.beginPath(),n.strokeStyle="rgba(147, 51, 234, ".concat(i,")"),n.lineWidth=2+3*e.synchrony,n.arc(r,s,a,0,2*Math.PI),n.stroke(),t>0){const i=30+25*(t-1),o=e.coherence;n.beginPath(),n.strokeStyle="rgba(34, 197, 94, ".concat(o,")"),n.lineWidth=1+2*o,n.moveTo(r+i,s),n.lineTo(r+a,s),n.stroke()}if(e.coupling>.3){const t=Date.now()/1e3*e.frequency,i=r+Math.cos(t)*a*.8,o=s+Math.sin(t)*a*.8;n.beginPath(),n.fillStyle="rgba(249, 115, 22, ".concat(e.coupling,")"),n.arc(i,o,3+2*e.coupling,0,2*Math.PI),n.fill()}n.fillStyle="#ffffff",n.font="10px monospace",n.textAlign="center",n.fillText(e.name,r,s-a-10)})),e.overallSynchrony>.7&&(n.beginPath(),n.fillStyle="rgba(147, 51, 234, ".concat(e.overallSynchrony,")"),n.arc(r,s,8,0,2*Math.PI),n.fill(),n.beginPath(),n.strokeStyle="rgba(147, 51, 234, ".concat(.5*e.overallSynchrony,")"),n.lineWidth=2,n.arc(r,s,8+5*Math.sin(Date.now()/200),0,2*Math.PI),n.stroke())},d=e=>{switch(e){case"integrated":return"border-purple-500 bg-purple-500/20";case"communicating":return"border-green-500 bg-green-500/20";case"coupled":return"border-orange-500 bg-orange-500/20";case"disconnected":return"border-red-500 bg-red-500/20";default:return"border-gray-500 bg-gray-500/20"}},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7;return e>=t?"text-green-400":e>=.5*t?"text-yellow-400":"text-red-400"};return n?(0,r.jsxs)("div",{className:"bg-black/50 border border-purple-500/30 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-purple-400",children:"\u29d6 NOW Model Monitor"}),(0,r.jsx)("p",{className:"text-xs text-gray-400",children:"Nested Observer Windows Compliance"})]}),(0,r.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(i?"bg-green-500":"bg-red-500")})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"SYNCHRONY"}),(0,r.jsxs)("div",{className:"text-2xl font-mono ".concat(u(n.overallSynchrony)),children:[(100*n.overallSynchrony).toFixed(1),"%"]}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Zero-lag correlation"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"COHERENCE"}),(0,r.jsxs)("div",{className:"text-2xl font-mono ".concat(u(n.overallCoherence)),children:[(100*n.overallCoherence).toFixed(1),"%"]}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Inter-window comm"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"COUPLING"}),(0,r.jsxs)("div",{className:"text-2xl font-mono ".concat(u(n.overallCoupling,.4)),children:[(100*n.overallCoupling).toFixed(1),"%"]}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Cross-frequency"})]})]}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("canvas",{ref:l,width:300,height:200,className:"w-full border border-purple-500/20 rounded bg-black/30"})}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"text-xs text-gray-400 mb-2",children:"OBSERVER WINDOWS"}),n.windows.map(((e,t)=>(0,r.jsxs)("div",{className:"flex justify-between items-center p-2 rounded border ".concat(d(e.status)),children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-white",children:e.name}),(0,r.jsxs)("div",{className:"text-xs text-gray-400",children:[e.timeScale," \u2022 ",e.frequency.toFixed(1),"Hz"]})]}),(0,r.jsxs)("div",{className:"flex gap-3 text-xs",children:[(0,r.jsxs)("div",{className:"".concat(u(e.synchrony)),children:["S: ",(100*e.synchrony).toFixed(0),"%"]}),(0,r.jsxs)("div",{className:"".concat(u(e.coherence)),children:["C: ",(100*e.coherence).toFixed(0),"%"]}),(0,r.jsxs)("div",{className:"".concat(u(e.coupling,.4)),children:["X: ",(100*e.coupling).toFixed(0),"%"]})]})]},e.id)))]}),(0,r.jsxs)("div",{className:"mt-4 pt-4 border-t border-purple-500/20",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Integration Quality:"}),(0,r.jsxs)("span",{className:"font-mono ".concat(u(n.integrationQuality)),children:[(100*n.integrationQuality).toFixed(1),"%"]})]}),(0,r.jsx)("div",{className:"mt-2 h-2 bg-black/50 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full bg-gradient-to-r from-purple-500 to-green-500 transition-all duration-300",style:{width:"".concat(100*n.integrationQuality,"%")}})})]})]}):(0,r.jsx)("div",{className:"bg-black/50 border border-purple-500/30 rounded-lg p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-purple-400 mb-2",children:"\u29d6 NOW Model Monitor"}),(0,r.jsx)("div",{className:"text-gray-400 text-sm",children:"Loading consciousness architecture..."})]})})}},7428:function(e,t,n){n.d(t,{a:function(){return s}});var r=n(5445);class s extends r.EventEmitter{async connect(){var e;if(!this.isConnecting&&(null===(e=this.ws)||void 0===e?void 0:e.readyState)!==WebSocket.OPEN){this.isConnecting=!0;try{await this.simulateConnection(),this.emit("connected")}catch(t){console.error("LabTools connection failed:",t),this.emit("connectionError",t),this.scheduleReconnect()}finally{this.isConnecting=!1}}}async simulateConnection(){await new Promise((e=>setTimeout(e,1e3))),this.startDataSimulation(),console.log("\ud83e\udde0 LabTools Service: Simulation mode active")}startDataSimulation(){setInterval((()=>{this.currentEEG=this.generateSimulatedEEG(),this.emit("eegUpdate",this.currentEEG)}),100),setInterval((()=>{this.currentHRV=this.generateSimulatedHRV(),this.emit("hrvUpdate",this.currentHRV)}),1e3),setInterval((()=>{this.currentGuardian=this.generateGuardianAssessment(),this.emit("guardianUpdate",this.currentGuardian)}),2e3),setInterval((()=>{this.currentField=this.generateFieldState(),this.emit("fieldUpdate",this.currentField)}),500),setInterval((()=>{this.currentNOW=this.generateNOWModelState(),this.emit("nowUpdate",this.currentNOW)}),750)}generateSimulatedEEG(){const e=.1+.2*Math.random(),t=Date.now(),n=()=>Array.from({length:200},((t,n)=>Math.sin(n*e+.1*Math.random())*(50+50*Math.random())));return{fp1:n(),fp2:n(),t7:n(),t8:n(),delta:.3*Math.random()+.1,theta:.4*Math.random()+.2,alpha:.6*Math.random()+.3,beta:.5*Math.random()+.2,gamma:.3*Math.random()+.1,timestamp:t}}generateSimulatedHRV(){return{coherence:.8*Math.random()+.2,rmssd:50*Math.random()+20,heartRate:20*Math.random()+60,timestamp:Date.now()}}generateGuardianAssessment(){const e=["safe","safe","safe","caution","caution","warning"],t=["optimal","optimal","optimal","hyperarousal","hypoarousal"];return{field:e[Math.floor(Math.random()*e.length)],psyche:e[Math.floor(Math.random()*e.length)],soma:e[Math.floor(Math.random()*e.length)],meaning:e[Math.floor(Math.random()*e.length)],window:t[Math.floor(Math.random()*t.length)],alerts:this.generateRandomAlerts()}}generateRandomAlerts(){const e=[];return Math.random()<.3&&e.push({id:Date.now().toString(),type:Math.random()<.7?"info":"warning",layer:["field","psyche","soma","meaning"][Math.floor(4*Math.random())],message:["Theta activity increasing - deep state detected","Heart coherence fluctuation noticed","Gamma spike - heightened awareness state","Integration opportunity detected"][Math.floor(4*Math.random())],timestamp:Date.now(),recommendations:["Continue with current protocol","Consider gentle grounding","Monitor for 30 seconds"]}),e}generateFieldState(){return{torus:{coherence:.8*Math.random()+.2,symmetry:.9*Math.random()+.1,flow:.7*Math.random()+.3,geometry:["balanced","expanding","contracting"][Math.floor(3*Math.random())]},couplings:Array.from({length:5},(()=>({frequency:40*Math.random()+5,amplitude:1*Math.random(),phase:360*Math.random(),coupling:.8*Math.random()+.2}))),recognizedPatterns:["Sacred Geometry Active","Torus Flow Detected","Coupling Resonance"].filter((()=>Math.random()>.5)),coherenceField:.8*Math.random()+.2}}generateNOWModelState(){const e=[{id:"gamma",name:"Gamma",timeScale:"10-50ms",frequency:35+10*Math.random(),synchrony:.4*Math.random()+.6,coherence:.6*Math.random()+.2,coupling:.3*Math.random()+.1,status:Math.random()>.3?"integrated":"communicating",level:0},{id:"beta",name:"Beta",timeScale:"50-100ms",frequency:18+12*Math.random(),synchrony:.5*Math.random()+.4,coherence:.7*Math.random()+.3,coupling:.4*Math.random()+.2,status:Math.random()>.25?"communicating":"integrated",level:1},{id:"alpha",name:"Alpha",timeScale:"100-200ms",frequency:8+4*Math.random(),synchrony:.6*Math.random()+.3,coherence:.8*Math.random()+.2,coupling:.5*Math.random()+.3,status:Math.random()>.2?"communicating":"coupled",level:2},{id:"theta",name:"Theta",timeScale:"200ms-1s",frequency:4+3*Math.random(),synchrony:.7*Math.random()+.2,coherence:.9*Math.random()+.1,coupling:.6*Math.random()+.4,status:Math.random()>.15?"coupled":"communicating",level:3},{id:"delta",name:"Delta",timeScale:"1-10s",frequency:.5+1.5*Math.random(),synchrony:.5*Math.random()+.3,coherence:.7*Math.random()+.2,coupling:.8*Math.random()+.2,status:Math.random()>.1?"coupled":"disconnected",level:4},{id:"flow",name:"Flow State",timeScale:"10s-5min",frequency:.1+.2*Math.random(),synchrony:.4*Math.random()+.2,coherence:.6*Math.random()+.3,coupling:.9*Math.random()+.1,status:Math.random()>.4?"coupled":"disconnected",level:5}],t=e.reduce(((e,t)=>e+t.synchrony),0)/e.length,n=e.reduce(((e,t)=>e+t.coherence),0)/e.length,r=e.reduce(((e,t)=>e+t.coupling),0)/e.length,s=.4*t+.35*n+.25*r;let a;return a=s>.75?"stable":s>.5?"emerging":s>.3?"transforming":"disrupted",{windows:e,overallSynchrony:t,overallCoherence:n,overallCoupling:r,integrationQuality:s,temporalHierarchy:a,timestamp:Date.now()}}setupSimulation(){this.currentGuardian={field:"safe",psyche:"safe",soma:"safe",meaning:"safe",window:"optimal",alerts:[]}}scheduleReconnect(){this.reconnectInterval&&clearTimeout(this.reconnectInterval),this.reconnectInterval=setTimeout((()=>{this.connect()}),5e3)}disconnect(){this.ws&&(this.ws.close(),this.ws=null),this.reconnectInterval&&(clearTimeout(this.reconnectInterval),this.reconnectInterval=null),this.emit("disconnected")}getCurrentEEG(){return this.currentEEG}getCurrentHRV(){return this.currentHRV}getCurrentGuardian(){return this.currentGuardian}getCurrentField(){return this.currentField}getCurrentNOW(){return this.currentNOW}getActiveProtocol(){return this.activeProtocol}async startProtocol(e){this.activeProtocol=e,this.emit("protocolStarted",e),console.log("\ud83c\udf9b\ufe0f Started protocol: ".concat(e.name))}async stopProtocol(){const e=this.activeProtocol;this.activeProtocol=null,this.emit("protocolStopped",e),console.log("\ud83d\uded1 Protocol stopped")}async emergencyStop(){await this.stopProtocol(),this.emit("emergencyStop"),console.log("\ud83d\udea8 EMERGENCY STOP ACTIVATED")}constructor(){super(),this.ws=null,this.reconnectInterval=null,this.isConnecting=!1,this.currentEEG=null,this.currentHRV=null,this.currentGuardian=null,this.currentField=null,this.currentNOW=null,this.activeProtocol=null,this.setupSimulation()}}},5445:function(e){var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!==e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function s(n){e.removeListener(t,a),r(n)}function a(){"function"===typeof e.removeListener&&e.removeListener("error",s),n([].slice.call(arguments))}g(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&g(e,"error",t,n)}(e,s,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var i=10;function o(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var s,a,i,c;if(o(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),i=a[t]),void 0===i)i=a[t]=n,++e._eventsCount;else if("function"===typeof i?i=a[t]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),(s=l(e))>0&&i.length>s&&!i.warned){i.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=i.length,c=d,console&&console.warn&&console.warn(c)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=d.bind(r);return s.listener=n,r.wrapFn=s,s}function h(e,t,n){var r=e._events;if(void 0===r)return[];var s=r[t];return void 0===s?[]:"function"===typeof s?n?[s.listener||s]:[s]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(s):x(s,s.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function x(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function s(a){r.once&&e.removeEventListener(t,s),n(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(e){if("number"!==typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");i=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var s="error"===e,a=this._events;if(void 0!==a)s=s&&void 0===a.error;else if(!s)return!1;if(s){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var o=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw o.context=i,o}var l=a[e];if(void 0===l)return!1;if("function"===typeof l)r(l,this,t);else{var c=l.length,d=x(l,c);for(n=0;n<c;++n)r(d[n],this,t)}return!0},a.prototype.addListener=function(e,t){return c(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return c(this,e,t,!0)},a.prototype.once=function(e,t){return o(t),this.on(e,u(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,u(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,s,a,i;if(o(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(s=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){i=n[a].listener,s=a;break}if(s<0)return this;0===s?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,s),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,i||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var s,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(s=a[r])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return h(this,e,!0)},a.prototype.rawListeners=function(e){return h(this,e,!1)},a.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}}]);