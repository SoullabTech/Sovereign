(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6388],{21860:function(e,a,t){Promise.resolve().then(t.bind(t,62353))},62353:function(e,a,t){"use strict";t.d(a,{default:function(){return u}});var r=t(57437),s=t(2265),i=t(14820),n=t(47625),d=t(21156),c=t(56940),l=t(97059),o=t(62994),g=t(8147),x=t(54061),y=t(95805),m=t(38866),h=t(84183);function u(){const[e,a]=(0,s.useState)(null),[t,u]=(0,s.useState)(!0),[b,j]=(0,s.useState)(7);(0,s.useEffect)((()=>{f()}),[b]);const f=async()=>{try{const e=await fetch("/api/analytics/theme?days=".concat(b)),t=await e.json();a(t)}catch(e){console.error("Failed to fetch theme data:",e)}finally{u(!1)}};if(t)return(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm animate-pulse",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3 mb-4"}),(0,r.jsx)("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded"})]});if(!e)return(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:(0,r.jsx)("p",{className:"text-gray-500",children:"No theme data available"})});[{name:"Light",value:e.distribution.light,icon:"\u2600\ufe0f"},{name:"Dark",value:e.distribution.dark,icon:"\ud83c\udf19"},{name:"System",value:e.distribution.system,icon:"\ud83d\udcbb"}].filter((e=>e.value>0)),h.PL.yellow,h.PL.blue,h.PL.gray;const p=e=>{const a=new Date(e);return"".concat(a.getMonth()+1,"/").concat(a.getDate())},k=Object.entries(e.distribution).sort(((e,a)=>{let[,t]=e,[,r]=a;return r-t}))[0];return(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-serif text-gray-900 dark:text-gray-100",children:"Theme Preferences"}),(0,r.jsxs)("select",{value:b,onChange:e=>j(Number(e.target.value)),className:"text-sm px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700",children:[(0,r.jsx)("option",{value:7,children:"7 days"}),(0,r.jsx)("option",{value:14,children:"14 days"}),(0,r.jsx)("option",{value:30,children:"30 days"})]})]})}),(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl mb-1",children:"light"===k[0]?"\u2600\ufe0f":"dark"===k[0]?"\ud83c\udf19":"\ud83d\udcbb"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Most Popular"}),(0,r.jsx)("p",{className:"text-sm font-medium capitalize",children:k[0]})]}),(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl mb-1",children:(0,r.jsx)(y.Z,{className:"w-6 h-6 mx-auto text-gray-600 dark:text-gray-400"})}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Users"}),(0,r.jsx)("p",{className:"text-sm font-medium",children:e.total})]}),(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl mb-1",children:(0,r.jsx)(m.Z,{className:"w-6 h-6 mx-auto text-gray-600 dark:text-gray-400"})}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Avg Switches"}),(0,r.jsxs)("p",{className:"text-sm font-medium",children:[e.switches.averagePerSession,"/session"]})]})]}),!1,e.daily.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Daily Theme Usage"}),(0,r.jsx)("div",{className:"h-32",children:(0,r.jsx)(n.h,{width:"100%",height:"100%",children:(0,r.jsxs)(d.w,{data:e.daily.map((e=>({...e,date:p(e.date)}))),children:[(0,r.jsx)(c.q,{strokeDasharray:"3 3",stroke:h.PL.opacity.gray10}),(0,r.jsx)(l.K,{dataKey:"date",stroke:h.PL.gray,fontSize:10}),(0,r.jsx)(o.B,{stroke:h.PL.gray,fontSize:10}),(0,r.jsx)(g.u,{}),(0,r.jsx)(x.x,{type:"monotone",dataKey:"light",stroke:h.PL.yellow,strokeWidth:2,dot:{r:3}}),(0,r.jsx)(x.x,{type:"monotone",dataKey:"dark",stroke:h.PL.blue,strokeWidth:2,dot:{r:3}}),(0,r.jsx)(x.x,{type:"monotone",dataKey:"system",stroke:h.PL.gray,strokeWidth:1,strokeDasharray:"3 3",dot:{r:2}})]})})})]}),"none"!==e.switches.mostCommonSwitch&&(0,r.jsx)("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Most common switch: "," ",(0,r.jsx)("span",{className:"font-medium",children:e.switches.mostCommonSwitch.replace(/_/g," \u2192 ")})]})})]})]})}},84183:function(e,a,t){"use strict";t.d(a,{PL:function(){return r},Xe:function(){return s}});const r={red:"#a94724",yellow:"#cea22c",green:"#6d7934",blue:"#236586",black:"#000000",gray:"#777777",brown:"#33251d",chart:{primary:"#236586",secondary:"#6d7934",highlight:"#cea22c",danger:"#a94724",neutral:"#777777",accent:"#33251d"},semantic:{success:"#6d7934",warning:"#cea22c",error:"#a94724",info:"#236586"},gradients:{light:"linear-gradient(135deg, #f9f9f9 0%, #ffffff 100%)",warm:"linear-gradient(135deg, rgba(206,162,44,0.03) 0%, rgba(169,71,36,0.03) 100%)",cool:"linear-gradient(135deg, rgba(35,101,134,0.03) 0%, rgba(109,121,52,0.03) 100%)",earth:"linear-gradient(135deg, rgba(51,37,29,0.02) 0%, rgba(119,119,119,0.02) 100%)"},opacity:{red10:"rgba(169, 71, 36, 0.1)",yellow10:"rgba(206, 162, 44, 0.1)",green10:"rgba(109, 121, 52, 0.1)",blue10:"rgba(35, 101, 134, 0.1)",gray10:"rgba(119, 119, 119, 0.1)",brown10:"rgba(51, 37, 29, 0.1)"}},s=[r.blue,r.green,r.yellow,r.brown,r.red,r.gray]}},function(e){e.O(0,[7040,1546,1156,157,2971,2117,1744],(function(){return a=21860,e(e.s=a);var a}));var a=e.O();_N_E=a}]);