(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4966],{32544:function(e,t,r){Promise.resolve().then(r.bind(r,44665))},44665:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var s=r(57437),a=r(2265),n=r(99376),o=r(84290),i=r(32660),l=r(87769),c=r(42208),d=r(30401),u=r(32489);function h(){const e=(0,n.useRouter)(),[t,r]=(0,a.useState)({username:"",name:"",email:"",password:"",confirmPassword:""}),[h,m]=(0,a.useState)(!1),[x,b]=(0,a.useState)(!1),[f,p]=(0,a.useState)(!1),[w,g]=(0,a.useState)(""),[v,N]=(0,a.useState)(""),j={minLength:t.password.length>=8,hasUpper:/[A-Z]/.test(t.password),hasLower:/[a-z]/.test(t.password),hasNumber:/\d/.test(t.password),match:t.password===t.confirmPassword&&t.confirmPassword.length>0},y=Object.values(j).every((e=>e)),S=t.username.trim()&&t.name.trim()&&t.email.trim()&&y,k=(e,t)=>{r((r=>({...r,[e]:t}))),g("")};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-[#a0c4c7] via-[#7fb5b3] to-[#6ee7b7] flex flex-col items-center justify-center relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"relative flex items-center justify-center transform -translate-y-20",children:[(0,s.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-radial from-amber-300/40 via-amber-200/20 to-transparent scale-150 blur-2xl"}),(0,s.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-radial from-yellow-200/30 via-amber-100/15 to-transparent scale-125 blur-xl"}),(0,s.jsx)("img",{src:"/holoflower.png",alt:"Elemental Holoflower",className:"w-[28rem] h-[28rem] opacity-30 filter drop-shadow-2xl mx-auto"}),(0,s.jsx)("img",{src:"/holoflower-amber.png",alt:"Amber Holoflower",className:"absolute inset-0 w-[28rem] h-[28rem] opacity-20 filter drop-shadow-lg"})]})}),(0,s.jsx)("button",{onClick:()=>{e.push("/welcome-back")},className:"absolute top-8 left-8 text-white/70 hover:text-white transition-colors z-20",children:(0,s.jsx)(i.Z,{className:"w-6 h-6"})}),(0,s.jsxs)("div",{className:"relative z-10 flex flex-col items-center justify-center flex-1 px-6",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-cinzel text-white mb-2",children:"Join the Journey"}),(0,s.jsx)("p",{className:"text-white/80 font-cinzel",children:"Create your Soullab account"})]}),(0,s.jsxs)("div",{className:"relative mb-8",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-400/30 to-teal-600/20 rounded-3xl blur-xl scale-110"}),(0,s.jsxs)("div",{className:"relative bg-gradient-to-br from-white/30 via-white/20 to-white/10 backdrop-blur-md rounded-3xl p-8 border border-white/40 shadow-2xl w-full max-w-md",children:[(0,s.jsx)("div",{className:"absolute inset-2 rounded-2xl border border-teal-300/20 pointer-events-none"}),(0,s.jsx)("div",{className:"absolute -bottom-2 left-2 right-2 h-full bg-black/20 rounded-3xl blur-lg -z-10"}),(0,s.jsxs)("form",{onSubmit:async r=>{r.preventDefault(),p(!0),g(""),N("");try{if(!t.username.trim())return void g("Username is required");if(!t.name.trim())return void g("Full name is required");if(s=t.email,!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s))return void g("Please enter a valid email address");if(!y)return void g("Please ensure your password meets all requirements");const r=localStorage.getItem("beta_users"),a=r?JSON.parse(r):{};if(a[t.username])return void g("Username already exists. Please choose a different username.");if(Object.values(a).some((e=>{var r;return(null===(r=e.email)||void 0===r?void 0:r.toLowerCase())===t.email.toLowerCase()})))return void g("Email already registered. Please use a different email or sign in.");const n={id:"user_".concat(t.username,"_").concat(Date.now()),username:t.username,name:t.name,email:t.email,onboarded:!1,createdAt:(new Date).toISOString(),lastVisit:(new Date).toISOString()};a[t.username]={...n,password:t.password},localStorage.setItem("beta_users",JSON.stringify(a)),o.betaSession.setUser(n),N("Account created successfully! Redirecting..."),setTimeout((()=>{e.push("/onboarding")}),1500)}catch(a){g("Failed to create account. Please try again."),console.error("Signup error:",a)}finally{p(!1)}var s},className:"space-y-4 relative",children:[w&&(0,s.jsx)("div",{className:"bg-red-500/20 border border-red-500/30 text-red-200 px-4 py-3 rounded-lg text-sm",children:w}),v&&(0,s.jsx)("div",{className:"bg-green-500/20 border border-green-500/30 text-green-200 px-4 py-3 rounded-lg text-sm",children:v}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2 font-cinzel",children:"Username"}),(0,s.jsx)("input",{type:"text",value:t.username,onChange:e=>k("username",e.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder:text-white/50 focus:outline-none focus:border-teal-400 transition-colors backdrop-blur-sm",placeholder:"Choose a unique username",required:!0,disabled:f})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2 font-cinzel",children:"Full Name"}),(0,s.jsx)("input",{type:"text",value:t.name,onChange:e=>k("name",e.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder:text-white/50 focus:outline-none focus:border-teal-400 transition-colors backdrop-blur-sm",placeholder:"Your full name",required:!0,disabled:f})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2 font-cinzel",children:"Email"}),(0,s.jsx)("input",{type:"email",value:t.email,onChange:e=>k("email",e.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder:text-white/50 focus:outline-none focus:border-teal-400 transition-colors backdrop-blur-sm",placeholder:"your@email.com",required:!0,disabled:f})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2 font-cinzel",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:h?"text":"password",value:t.password,onChange:e=>k("password",e.target.value),className:"w-full px-4 py-3 pr-12 bg-white/10 border border-white/30 rounded-lg text-white placeholder:text-white/50 focus:outline-none focus:border-teal-400 transition-colors backdrop-blur-sm",placeholder:"Choose a strong password",required:!0,disabled:f}),(0,s.jsx)("button",{type:"button",onClick:()=>m(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white transition-colors",disabled:f,children:h?(0,s.jsx)(l.Z,{className:"w-5 h-5"}):(0,s.jsx)(c.Z,{className:"w-5 h-5"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-white/80 mb-2 font-cinzel",children:"Confirm Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:x?"text":"password",value:t.confirmPassword,onChange:e=>k("confirmPassword",e.target.value),className:"w-full px-4 py-3 pr-12 bg-white/10 border border-white/30 rounded-lg text-white placeholder:text-white/50 focus:outline-none focus:border-teal-400 transition-colors backdrop-blur-sm",placeholder:"Confirm your password",required:!0,disabled:f}),(0,s.jsx)("button",{type:"button",onClick:()=>b(!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white transition-colors",disabled:f,children:x?(0,s.jsx)(l.Z,{className:"w-5 h-5"}):(0,s.jsx)(c.Z,{className:"w-5 h-5"})})]})]}),t.password&&(0,s.jsxs)("div",{className:"text-xs space-y-1",children:[(0,s.jsx)("p",{className:"text-white/70 font-cinzel mb-1",children:"Password requirements:"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 ".concat(j.minLength?"text-green-300":"text-white/50"),children:[j.minLength?(0,s.jsx)(d.Z,{className:"w-3 h-3"}):(0,s.jsx)(u.Z,{className:"w-3 h-3"}),(0,s.jsx)("span",{children:"At least 8 characters"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 ".concat(j.hasUpper?"text-green-300":"text-white/50"),children:[j.hasUpper?(0,s.jsx)(d.Z,{className:"w-3 h-3"}):(0,s.jsx)(u.Z,{className:"w-3 h-3"}),(0,s.jsx)("span",{children:"Uppercase letter"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 ".concat(j.hasLower?"text-green-300":"text-white/50"),children:[j.hasLower?(0,s.jsx)(d.Z,{className:"w-3 h-3"}):(0,s.jsx)(u.Z,{className:"w-3 h-3"}),(0,s.jsx)("span",{children:"Lowercase letter"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 ".concat(j.hasNumber?"text-green-300":"text-white/50"),children:[j.hasNumber?(0,s.jsx)(d.Z,{className:"w-3 h-3"}):(0,s.jsx)(u.Z,{className:"w-3 h-3"}),(0,s.jsx)("span",{children:"Number"})]}),t.confirmPassword&&(0,s.jsxs)("div",{className:"flex items-center gap-1 ".concat(j.match?"text-green-300":"text-red-300"),children:[j.match?(0,s.jsx)(d.Z,{className:"w-3 h-3"}):(0,s.jsx)(u.Z,{className:"w-3 h-3"}),(0,s.jsx)("span",{children:"Passwords match"})]})]})]}),(0,s.jsxs)("button",{type:"submit",disabled:f||!S,className:"w-full bg-transparent border border-white/40 text-white py-3 px-6 rounded-full font-cinzel tracking-[0.1em] hover:bg-white/10 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center group",children:[(0,s.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-teal-400/0 to-teal-300/0 group-hover:from-teal-400/20 group-hover:to-teal-300/10 transition-all duration-300 blur-sm"}),(0,s.jsx)("span",{className:"relative",children:f?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Creating Account..."]}):"Create Account"})]})]}),(0,s.jsxs)("div",{className:"text-center mt-6 pt-6 border-t border-white/20",children:[(0,s.jsx)("p",{className:"text-white/60 text-sm font-cinzel mb-2",children:"Already have an account?"}),(0,s.jsx)("button",{onClick:()=>{e.push("/signin")},className:"text-teal-300 hover:text-teal-200 transition-colors font-cinzel text-sm underline",disabled:f,children:"Sign In"})]})]})]})]})]})}},84290:function(e,t,r){"use strict";r.r(t),r.d(t,{betaSession:function(){return a},useBetaSession:function(){return n}});class s{static getInstance(){return s.instance||(s.instance=new s),s.instance}restoreSession(){try{const e=localStorage.getItem("beta_user");if(!e)return{isAuthenticated:!1,user:null,needsOnboarding:!1,source:"none"};const t=JSON.parse(e);return this.currentUser=t,{isAuthenticated:!0,user:t,needsOnboarding:!t.onboarded,source:"localStorage"}}catch(e){return console.error("[BetaSession] Error restoring session:",e),{isAuthenticated:!1,user:null,needsOnboarding:!1,source:"none"}}}setUser(e){this.currentUser=e,localStorage.setItem("beta_user",JSON.stringify(e)),e.lastVisit=(new Date).toISOString(),this.notifyListeners()}updateUser(e){if(!this.currentUser)return void console.warn("[BetaSession] No current user to update");this.currentUser={...this.currentUser,...e},localStorage.setItem("beta_user",JSON.stringify(this.currentUser));const t=localStorage.getItem("beta_users");if(t)try{const r=JSON.parse(t);r[this.currentUser.username]&&(r[this.currentUser.username]={...r[this.currentUser.username],...e},localStorage.setItem("beta_users",JSON.stringify(r)))}catch(r){console.error("[BetaSession] Error updating beta_users:",r)}this.notifyListeners()}markOnboarded(){this.updateUser({onboarded:!0})}updateLastVisit(){this.updateUser({lastVisit:(new Date).toISOString()})}getCurrentUser(){return this.currentUser}getSessionState(){return{isAuthenticated:!!this.currentUser,user:this.currentUser,needsOnboarding:!!this.currentUser&&!this.currentUser.onboarded,source:this.currentUser?"localStorage":"none"}}isAuthenticated(){return!!this.currentUser}needsOnboarding(){return!!this.currentUser&&!this.currentUser.onboarded}clearSession(){this.currentUser=null,localStorage.removeItem("beta_user"),localStorage.removeItem("explorerId"),localStorage.removeItem("explorerName"),sessionStorage.clear(),this.notifyListeners()}subscribe(e){return this.sessionListeners.add(e),()=>{this.sessionListeners.delete(e)}}notifyListeners(){const e=this.getSessionState();this.sessionListeners.forEach((t=>{try{t(e)}catch(r){console.error("[BetaSession] Error in listener:",r)}}))}handleStorageChange(e){if("beta_user"===e.key)if(e.newValue)try{this.currentUser=JSON.parse(e.newValue),this.notifyListeners()}catch(t){console.error("[BetaSession] Error parsing beta_user from storage event:",t)}else this.currentUser=null,this.notifyListeners()}async syncWithSupabase(){var e;if(null===(e=this.currentUser)||void 0===e?void 0:e.explorerId)try{console.log("[BetaSession] Supabase sync not yet implemented")}catch(t){console.error("[BetaSession] Error syncing with Supabase:",t)}}constructor(){this.currentUser=null,this.sessionListeners=new Set,this.restoreSession(),window.addEventListener("storage",this.handleStorageChange.bind(this))}}const a=s.getInstance();function n(){return a.getSessionState()}},79205:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var s=r(2265);const a=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,r)=>r?r.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t)).join(" ").trim()},o=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const l=(0,s.forwardRef)(((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:u,iconNode:h,...m}=e;return(0,s.createElement)("svg",{ref:t,...i,width:a,height:a,stroke:r,strokeWidth:c?24*Number(l)/Number(a):l,className:n("lucide",d),...!u&&!o(m)&&{"aria-hidden":"true"},...m},[...h.map((e=>{let[t,r]=e;return(0,s.createElement)(t,r)})),...Array.isArray(u)?u:[u]])})),c=(e,t)=>{const r=(0,s.forwardRef)(((r,o)=>{let{className:i,...c}=r;return(0,s.createElement)(l,{ref:o,iconNode:t,className:n("lucide-".concat((d=a(e),d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),i),...c});var d}));return r.displayName=a(e),r}},32660:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});const s=(0,r(79205).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},30401:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});const s=(0,r(79205).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},87769:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});const s=(0,r(79205).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},42208:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});const s=(0,r(79205).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},32489:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});const s=(0,r(79205).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},99376:function(e,t,r){"use strict";var s=r(35475);r.o(s,"redirect")&&r.d(t,{redirect:function(){return s.redirect}}),r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})}},function(e){e.O(0,[2971,2117,1744],(function(){return t=32544,e(e.s=t);var t}));var t=e.O();_N_E=t}]);