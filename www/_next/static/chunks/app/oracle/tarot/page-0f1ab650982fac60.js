(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[339],{58283:function(e,a,s){Promise.resolve().then(s.bind(s,61008))},61008:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return p}});var t=s(57437),r=s(2265),i=s(14820),l=s(5095),n=s(99376),o=s(86595),c=s(82023),d=s(97226),m=s(32660),x=s(71769),b=s(82431);const h=[{id:"single-card",name:"Single Card",description:"Quick guidance for today",positions:1,icon:o.Z,recommended:"Daily insight"},{id:"three-card",name:"Three-Card Spread",description:"Past, Present, Future",positions:3,icon:c.Z,recommended:"Most popular"},{id:"celtic-cross",name:"Celtic Cross",description:"Comprehensive 10-card reading",positions:10,icon:d.Z,recommended:"Deep dive"}];function p(){const e=(0,n.useRouter)(),[a,s]=(0,r.useState)("question"),[d,p]=(0,r.useState)(""),[u,g]=(0,r.useState)(null),[f,j]=(0,r.useState)(null),[v,N]=(0,r.useState)([]),[y,w]=(0,r.useState)(!1),k=async e=>{w(!0);try{const a=await fetch("/api/oracle/tarot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:d,spreadType:e})}),t=await a.json();t.reading&&(j(t.reading),s("reveal"),C(t.reading.cards.length))}catch(a){console.error("Failed to draw cards:",a)}finally{w(!1)}},C=e=>{const a=[];for(let t=0;t<e;t++)setTimeout((()=>{a.push(t),N([...a]),t===e-1&&setTimeout((()=>{s("interpretation")}),1500)}),800*t)};return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-amber-950 via-amber-900 to-orange-950 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"fixed inset-0 pointer-events-none",children:[...Array(40)].map(((e,a)=>(0,t.jsx)(i.E.div,{className:"absolute w-1 h-1 bg-[#D4B896]/30 rounded-full",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%")},animate:{y:[0,-40,0],opacity:[.2,.6,.2],scale:[1,1.5,1]},transition:{duration:4+6*Math.random(),repeat:1/0,delay:3*Math.random(),ease:"easeInOut"}},a)))}),(0,t.jsx)("div",{className:"fixed bottom-0 left-0 right-0 h-96 bg-gradient-to-t from-[#3d2817]/40 via-amber-950/10 to-transparent pointer-events-none"}),(0,t.jsx)("div",{className:"relative z-10 min-h-screen flex flex-col items-center px-4 py-12",children:(0,t.jsxs)("div",{className:"w-full max-w-5xl",children:[(0,t.jsxs)(i.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-12",children:[(0,t.jsxs)("button",{onClick:()=>e.push("/oracle"),className:"flex items-center gap-2 text-amber-400/70 hover:text-amber-300 transition-colors",children:[(0,t.jsx)(m.Z,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-sm",children:"Back to Oracle"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o.Z,{className:"w-6 h-6 text-amber-400"}),(0,t.jsx)("h1",{className:"text-2xl font-light text-amber-200 tracking-wide",children:"Tarot Oracle"})]}),(0,t.jsx)("div",{className:"w-24"})," "]}),(0,t.jsxs)(l.M,{mode:"wait",children:["question"===a&&(0,t.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"max-w-2xl mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)(i.E.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"inline-block mb-6",children:(0,t.jsx)(o.Z,{className:"w-16 h-16 text-amber-400/80"})}),(0,t.jsx)("h2",{className:"text-4xl font-bold text-amber-100 mb-4",children:"Ask Your Question"}),(0,t.jsx)("p",{className:"text-amber-300/60 text-lg",children:"The cards are listening. Speak from your heart."})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-amber-900/30 via-amber-800/20 to-orange-900/30 backdrop-blur-xl border border-amber-600/30 rounded-2xl p-8 shadow-2xl",children:[(0,t.jsx)("textarea",{value:d,onChange:e=>p(e.target.value),placeholder:"What guidance do you seek from the cards?",className:"w-full h-32 px-4 py-3 bg-amber-950/50 border border-amber-700/40 rounded-lg text-amber-100 placeholder-amber-500/40 focus:outline-none focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 transition-all resize-none",autoFocus:!0}),(0,t.jsxs)("button",{onClick:()=>{d.trim()&&s("spread-selection")},disabled:!d.trim(),className:"w-full mt-6 px-6 py-4 bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-500 hover:to-orange-500 disabled:from-amber-900/30 disabled:to-orange-900/30 disabled:cursor-not-allowed text-white font-semibold rounded-lg shadow-lg transition-all duration-300 flex items-center justify-center gap-2",children:[(0,t.jsx)(c.Z,{className:"w-5 h-5"}),"Continue to Card Selection"]})]})]},"question"),"spread-selection"===a&&(0,t.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h2",{className:"text-4xl font-bold text-amber-100 mb-4",children:"Choose Your Spread"}),(0,t.jsx)("p",{className:"text-amber-300/60 text-lg max-w-2xl mx-auto",children:"Each spread offers a different perspective on your question"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:h.map(((e,a)=>{const r=e.icon;return(0,t.jsx)(i.E.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},onClick:()=>{return a=e.id,g(a),s("drawing"),void setTimeout((()=>{k(a)}),1e3);var a},className:"group p-6 bg-gradient-to-br from-amber-900/30 via-amber-800/20 to-orange-900/30 backdrop-blur-xl border border-amber-600/30 rounded-2xl hover:border-amber-500/50 hover:shadow-2xl hover:shadow-amber-600/20 transition-all duration-300",whileHover:{y:-4,scale:1.02},whileTap:{scale:.98},children:(0,t.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full bg-amber-800/30 group-hover:bg-amber-700/40 flex items-center justify-center mb-4 transition-colors",children:(0,t.jsx)(r,{className:"w-8 h-8 text-amber-300"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-amber-100 mb-2",children:e.name}),(0,t.jsx)("span",{className:"inline-block px-3 py-1 bg-amber-600/20 text-amber-300/80 text-xs rounded-full mb-3",children:e.recommended}),(0,t.jsx)("p",{className:"text-amber-300/60 text-sm mb-3",children:e.description}),(0,t.jsxs)("div",{className:"text-amber-400/50 text-xs",children:[e.positions," ",1===e.positions?"card":"cards"]})]})},e.id)}))})]},"spread-selection"),"drawing"===a&&(0,t.jsxs)(i.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"flex flex-col items-center justify-center min-h-[60vh]",children:[(0,t.jsx)(i.E.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{rotate:{duration:3,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,ease:"easeInOut"}},className:"mb-8",children:(0,t.jsx)(c.Z,{className:"w-20 h-20 text-amber-400"})}),(0,t.jsx)("h2",{className:"text-3xl font-bold text-amber-100 mb-4",children:"Drawing the Cards..."}),(0,t.jsx)("p",{className:"text-amber-300/60 text-lg",children:"The oracle speaks through sacred symbols"})]},"drawing"),("reveal"===a||"interpretation"===a)&&f&&(0,t.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:1},children:[(0,t.jsxs)("div",{className:"mb-12",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-amber-100 text-center mb-8",children:f.spreadName}),(0,t.jsx)("div",{className:"grid gap-6 ".concat(1===f.cards.length?"grid-cols-1 max-w-sm mx-auto":3===f.cards.length?"grid-cols-1 md:grid-cols-3":"grid-cols-2 md:grid-cols-5"),children:f.cards.map(((e,a)=>(0,t.jsx)(i.E.div,{initial:{opacity:0,rotateY:180},animate:{opacity:v.includes(a)?1:0,rotateY:v.includes(a)?0:180},transition:{duration:.6,delay:.2},className:"perspective-1000",children:(0,t.jsxs)("div",{className:"bg-gradient-to-br from-amber-900/40 via-amber-800/30 to-orange-900/40 backdrop-blur-xl border border-amber-600/40 rounded-xl p-6 min-h-[300px] flex flex-col shadow-xl",children:[(0,t.jsxs)("div",{className:"text-center mb-4",children:[(0,t.jsx)("div",{className:"text-amber-500/60 text-xs uppercase tracking-wider mb-2",children:e.position}),(0,t.jsxs)("h3",{className:"text-lg font-bold text-amber-100",children:[e.name,e.reversed&&(0,t.jsx)("span",{className:"text-red-400 ml-2",children:"(R)"})]})]}),(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center mb-4",children:(0,t.jsx)(o.Z,{className:"w-16 h-16 text-amber-400/30"})}),(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.keywords.slice(0,3).map(((e,a)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-amber-700/20 text-amber-300/70 text-xs rounded",children:e},a)))})})]})},a)))})]}),"interpretation"===a&&(0,t.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-amber-900/30 via-amber-800/20 to-orange-900/30 backdrop-blur-xl border border-amber-600/30 rounded-2xl p-8 shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(x.Z,{className:"w-6 h-6 text-amber-400"}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-amber-100",children:"Oracle's Wisdom"})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-amber-300/80 font-semibold mb-2",children:"Overall Message:"}),(0,t.jsx)("p",{className:"text-amber-200/70 leading-relaxed",children:f.overallMessage})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-amber-300/80 font-semibold mb-2",children:"Guidance:"}),(0,t.jsx)("p",{className:"text-amber-200/70 leading-relaxed",children:f.advice})]}),(0,t.jsxs)("div",{className:"border-t border-amber-700/30 pt-6 mt-6",children:[(0,t.jsx)("h4",{className:"text-amber-300/80 font-semibold mb-4",children:"Card Details:"}),(0,t.jsx)("div",{className:"space-y-4",children:f.cards.map(((e,a)=>(0,t.jsxs)("div",{className:"bg-amber-950/30 rounded-lg p-4",children:[(0,t.jsxs)("h5",{className:"text-amber-200 font-semibold mb-2",children:[e.name," - ",e.position]}),(0,t.jsx)("p",{className:"text-amber-300/60 text-sm",children:e.interpretation})]},a)))})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 mt-8",children:[(0,t.jsxs)("button",{onClick:()=>{s("question"),p(""),g(null),j(null),N([])},className:"flex-1 px-6 py-3 bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-500 hover:to-orange-500 text-white font-semibold rounded-lg shadow-lg transition-all duration-300 flex items-center justify-center gap-2",children:[(0,t.jsx)(b.Z,{className:"w-5 h-5"}),"New Reading"]}),(0,t.jsx)("button",{onClick:()=>e.push("/oracle"),className:"px-6 py-3 bg-amber-900/40 hover:bg-amber-800/50 text-amber-200 font-semibold rounded-lg transition-all duration-300",children:"Back to Oracle"})]})]})]},"reveal")]})]})})]})}}},function(e){e.O(0,[7040,3522,2971,2117,1744],(function(){return a=58283,e(e.s=a);var a}));var a=e.O();_N_E=a}]);