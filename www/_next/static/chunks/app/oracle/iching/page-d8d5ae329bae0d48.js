(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8338],{64739:function(e,a,t){Promise.resolve().then(t.bind(t,73858))},73858:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return b}});var s=t(57437),r=t(2265),i=t(14820),n=t(5095),l=t(99376),c=t(32660),m=t(61392),o=t(82023),d=t(51817),x=t(71769),h=t(82431);function b(){const e=(0,l.useRouter)(),[a,t]=(0,r.useState)("question"),[b,u]=(0,r.useState)(""),[p,j]=(0,r.useState)(null),[N,f]=(0,r.useState)([]),[v,y]=(0,r.useState)(0),[w,k]=(0,r.useState)(!1),C=async e=>{try{const a=await fetch("/api/oracle/iching",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:b,lines:e.map((e=>({type:e.type,changing:e.changing,value:e.value})))})}),s=await a.json();s.reading&&(j(s.reading),t("reveal"),setTimeout((()=>{t("interpretation")}),2e3))}catch(a){console.error("Failed to get I Ching reading:",a)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-amber-950 via-amber-900 to-orange-950 relative overflow-hidden",children:[(0,s.jsx)("div",{className:"fixed inset-0 pointer-events-none",children:[...Array(40)].map(((e,a)=>(0,s.jsx)(i.E.div,{className:"absolute w-1 h-1 bg-[#D4B896]/30 rounded-full",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%")},animate:{y:[0,-40,0],opacity:[.2,.6,.2],scale:[1,1.5,1]},transition:{duration:4+6*Math.random(),repeat:1/0,delay:3*Math.random(),ease:"easeInOut"}},a)))}),(0,s.jsx)("div",{className:"fixed bottom-0 left-0 right-0 h-96 bg-gradient-to-t from-[#3d2817]/40 via-amber-950/10 to-transparent pointer-events-none"}),(0,s.jsx)("div",{className:"relative z-10 min-h-screen flex flex-col items-center px-4 py-12",children:(0,s.jsxs)("div",{className:"w-full max-w-5xl",children:[(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-12",children:[(0,s.jsxs)("button",{onClick:()=>e.push("/oracle"),className:"flex items-center gap-2 text-amber-400/70 hover:text-amber-300 transition-colors",children:[(0,s.jsx)(c.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"text-sm",children:"Back to Oracle"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.Z,{className:"w-6 h-6 text-amber-400"}),(0,s.jsx)("h1",{className:"text-2xl font-light text-amber-200 tracking-wide",children:"I Ching Oracle"})]}),(0,s.jsx)("div",{className:"w-24"})," "]}),(0,s.jsxs)(n.M,{mode:"wait",children:["question"===a&&(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)(i.E.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"inline-block mb-6",children:(0,s.jsx)(m.Z,{className:"w-16 h-16 text-amber-400/80"})}),(0,s.jsx)("h2",{className:"text-4xl font-bold text-amber-100 mb-4",children:"Consult the Book of Changes"}),(0,s.jsx)("p",{className:"text-amber-300/60 text-lg",children:"The ancient wisdom of the I Ching awaits your question"})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-amber-900/30 via-amber-800/20 to-orange-900/30 backdrop-blur-xl border border-amber-600/30 rounded-2xl p-8 shadow-2xl",children:[(0,s.jsx)("textarea",{value:b,onChange:e=>u(e.target.value),placeholder:"What situation requires wisdom and guidance?",className:"w-full h-32 px-4 py-3 bg-amber-950/50 border border-amber-700/40 rounded-lg text-amber-100 placeholder-amber-500/40 focus:outline-none focus:ring-2 focus:ring-amber-500/50 focus:border-amber-500 transition-all resize-none",autoFocus:!0}),(0,s.jsxs)("button",{onClick:()=>{b.trim()&&(async()=>{t("casting"),k(!0);const e=[];for(let a=0;a<6;a++){y(a),await new Promise((e=>setTimeout(e,1800)));const t=Math.floor(4*Math.random())+6,s={type:7===t||9===t?"yang":"yin",changing:6===t||9===t,value:t};e.push(s),f([...e])}k(!1),await C(e)})()},disabled:!b.trim(),className:"w-full mt-6 px-6 py-4 bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-500 hover:to-orange-500 disabled:from-amber-900/30 disabled:to-orange-900/30 disabled:cursor-not-allowed text-white font-semibold rounded-lg shadow-lg transition-all duration-300 flex items-center justify-center gap-2",children:[(0,s.jsx)(o.Z,{className:"w-5 h-5"}),"Cast the Yarrow Stalks"]}),(0,s.jsx)("p",{className:"text-amber-400/50 text-xs text-center mt-4",children:"Using the traditional 50 yarrow stalk method"})]})]},"question"),"casting"===a&&(0,s.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"max-w-3xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-amber-100 mb-4",children:"Casting the Hexagram"}),(0,s.jsxs)("p",{className:"text-amber-300/60",children:["Building line ",v+1," of 6..."]})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[w&&(0,s.jsx)(i.E.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"mb-12",children:(0,s.jsx)(d.Z,{className:"w-12 h-12 text-amber-400"})}),(0,s.jsx)("div",{className:"space-y-4",children:[...Array(6)].map(((e,a)=>{const t=5-a,r=N[t],n=t<N.length;return(0,s.jsx)(i.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:n?1:.2,scale:n?1:.8},transition:{duration:.5},className:"flex items-center justify-center gap-3",children:n&&r?(0,s.jsx)(g,{line:r}):(0,s.jsx)("div",{className:"w-48 h-3 bg-amber-900/20 rounded"})},a)}))})]})]},"casting"),("reveal"===a||"interpretation"===a)&&p&&(0,s.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsxs)("h2",{className:"text-4xl font-bold text-amber-100 mb-2",children:["Hexagram ",p.hexagram.number]}),(0,s.jsx)("h3",{className:"text-2xl text-amber-300/80 mb-1",children:p.hexagram.name}),(0,s.jsx)("p",{className:"text-amber-400/60 text-lg",children:p.hexagram.keyword})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-br from-amber-900/40 via-amber-800/30 to-orange-900/40 backdrop-blur-xl border border-amber-600/40 rounded-xl p-8 shadow-xl",children:[(0,s.jsx)("h4",{className:"text-amber-300/80 text-center mb-6 font-semibold",children:"Present Hexagram"}),(0,s.jsx)("div",{className:"space-y-3 mb-6",children:p.hexagram.lines.map(((e,a)=>{var t;return(0,s.jsxs)(i.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*a},className:"flex items-center justify-center",children:[(0,s.jsx)("div",{className:"h-3 rounded transition-all ".concat("-------"===e?"w-48 bg-amber-400":"w-48 flex gap-4"),children:"--- ---"===e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex-1 bg-amber-400 rounded"}),(0,s.jsx)("div",{className:"flex-1 bg-amber-400 rounded"})]})}),(null===(t=p.hexagram.changingLines)||void 0===t?void 0:t.includes(5-a+1))&&(0,s.jsx)(o.Z,{className:"w-4 h-4 text-amber-300 ml-3"})]},a)}))}),(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsxs)("div",{className:"text-amber-400/60 text-sm",children:["Upper Trigram: ",p.hexagram.trigrams.upper]}),(0,s.jsxs)("div",{className:"text-amber-400/60 text-sm",children:["Lower Trigram: ",p.hexagram.trigrams.lower]})]})]}),p.hexagram.transformed&&(0,s.jsxs)("div",{className:"bg-gradient-to-br from-orange-900/40 via-amber-800/30 to-amber-900/40 backdrop-blur-xl border border-orange-600/40 rounded-xl p-8 shadow-xl",children:[(0,s.jsx)("h4",{className:"text-orange-300/80 text-center mb-6 font-semibold",children:"Future Hexagram"}),(0,s.jsxs)("div",{className:"text-center space-y-3",children:[(0,s.jsx)(m.Z,{className:"w-16 h-16 text-orange-400/60 mx-auto"}),(0,s.jsx)("h5",{className:"text-2xl font-bold text-orange-200",children:p.hexagram.transformed.number}),(0,s.jsx)("p",{className:"text-orange-300/80",children:p.hexagram.transformed.name}),(0,s.jsx)("p",{className:"text-orange-400/60 text-sm",children:p.hexagram.transformed.keyword})]}),(0,s.jsx)("div",{className:"mt-6 p-4 bg-orange-950/30 rounded-lg",children:(0,s.jsx)("p",{className:"text-orange-300/70 text-sm text-center",children:"The changing lines indicate transformation from the present to this future state"})})]})]})]}),"interpretation"===a&&(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-br from-amber-900/30 via-amber-800/20 to-orange-900/30 backdrop-blur-xl border border-amber-600/30 rounded-2xl p-8 shadow-2xl",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,s.jsx)(x.Z,{className:"w-6 h-6 text-amber-400"}),(0,s.jsx)("h3",{className:"text-2xl font-bold text-amber-100",children:"Oracle's Wisdom"})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-amber-300/80 font-semibold mb-3",children:"Interpretation:"}),(0,s.jsx)("p",{className:"text-amber-200/70 leading-relaxed",children:p.hexagram.interpretation})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-amber-300/80 font-semibold mb-3",children:"Guidance:"}),(0,s.jsx)("p",{className:"text-amber-200/70 leading-relaxed",children:p.guidance})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-amber-300/80 font-semibold mb-3",children:"Sacred Timing:"}),(0,s.jsx)("p",{className:"text-amber-200/70 leading-relaxed",children:p.sacredTiming})]}),p.archetypalTheme&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-amber-300/80 font-semibold mb-3",children:"Archetypal Theme:"}),(0,s.jsx)("p",{className:"text-amber-200/70 leading-relaxed",children:p.archetypalTheme})]})]})]}),p.ritual&&(0,s.jsxs)("div",{className:"bg-gradient-to-br from-amber-900/20 via-amber-800/10 to-orange-900/20 backdrop-blur-xl border border-amber-600/20 rounded-xl p-6",children:[(0,s.jsxs)("h4",{className:"text-amber-300/80 font-semibold mb-3 flex items-center gap-2",children:[(0,s.jsx)(o.Z,{className:"w-5 h-5"}),"Integration Ritual"]}),(0,s.jsx)("p",{className:"text-amber-200/60 text-sm leading-relaxed",children:p.ritual})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("button",{onClick:()=>{t("question"),u(""),j(null),f([]),y(0)},className:"flex-1 px-6 py-3 bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-500 hover:to-orange-500 text-white font-semibold rounded-lg shadow-lg transition-all duration-300 flex items-center justify-center gap-2",children:[(0,s.jsx)(h.Z,{className:"w-5 h-5"}),"New Reading"]}),(0,s.jsx)("button",{onClick:()=>e.push("/oracle"),className:"px-6 py-3 bg-amber-900/40 hover:bg-amber-800/50 text-amber-200 font-semibold rounded-lg transition-all duration-300",children:"Back to Oracle"})]})]})]},"reveal")]})]})})]})}function g(e){let{line:a}=e;return(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-4 rounded transition-all ".concat("yang"===a.type?"w-48 bg-amber-400":"w-48 flex gap-4"),children:"yin"===a.type&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex-1 bg-amber-400 rounded"}),(0,s.jsx)("div",{className:"flex-1 bg-amber-400 rounded"})]})}),a.changing&&(0,s.jsx)(i.E.div,{animate:{scale:[1,1.3,1],opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:(0,s.jsx)(o.Z,{className:"w-5 h-5 text-amber-300"})})]})}}},function(e){e.O(0,[7040,8370,2971,2117,1744],(function(){return a=64739,e(e.s=a);var a}));var a=e.O();_N_E=a}]);