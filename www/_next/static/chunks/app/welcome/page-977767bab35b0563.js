(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[913],{4913:function(e,t,r){Promise.resolve().then(r.bind(r,6764))},6764:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var s=r(7437),n=r(2265),a=r(9376),o=r(4290);function i(){const e=(0,a.useRouter)(),[t,r]=(0,n.useState)(""),[i,l]=(0,n.useState)("Good morning"),[c,u]=(0,n.useState)(!1),[d,h]=(0,n.useState)(!0);(0,n.useEffect)((()=>{const e=o.e.getCurrentUser();e&&(r(e.name||e.username||"Explorer"),u(!0));const t=(new Date).getHours();l(t<12?"Good morning":t<17?"Good afternoon":"Good evening"),h(!1)}),[]);return d?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#a0c4c7] via-[#7fb5b3] to-[#6ee7b7] flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin"})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-[#a0c4c7] via-[#7fb5b3] to-[#6ee7b7] flex flex-col items-center relative overflow-hidden",children:[(0,s.jsx)("div",{className:"relative z-20 flex items-center justify-center pt-8 pb-4",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:"/holoflower.png",alt:"Elemental Holoflower",className:"w-16 h-16 opacity-40 absolute -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2"}),(0,s.jsx)("img",{src:"/soullab-logo.png",alt:"Soullab",className:"h-12 relative z-10 filter drop-shadow-lg"})]})}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"relative flex items-center justify-center transform -translate-y-10",children:[(0,s.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-radial from-amber-300/40 via-amber-200/20 to-transparent scale-150 blur-2xl"}),(0,s.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-radial from-yellow-200/30 via-amber-100/15 to-transparent scale-125 blur-xl"}),(0,s.jsx)("img",{src:"/holoflower.png",alt:"Elemental Holoflower",className:"w-[26rem] h-[26rem] opacity-25 filter drop-shadow-2xl mx-auto"}),(0,s.jsx)("img",{src:"/holoflower-amber.png",alt:"Amber Holoflower",className:"absolute inset-0 w-[26rem] h-[26rem] opacity-15 filter drop-shadow-lg"})]})}),(0,s.jsxs)("div",{className:"relative z-10 flex flex-col items-center justify-center flex-1 px-6",children:[(0,s.jsxs)("div",{className:"relative mb-16",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-teal-400/30 to-teal-600/20 rounded-3xl blur-xl scale-110"}),(0,s.jsxs)("div",{className:"relative bg-gradient-to-br from-white/30 via-white/20 to-white/10 backdrop-blur-md rounded-3xl px-12 py-8 border border-white/40 shadow-2xl text-center",children:[(0,s.jsx)("div",{className:"absolute inset-2 rounded-2xl border border-teal-300/20 pointer-events-none"}),(0,s.jsx)("div",{className:"absolute -bottom-2 left-2 right-2 h-full bg-black/20 rounded-3xl blur-lg -z-10"}),(0,s.jsx)("p",{className:"text-white/90 text-lg mb-2 font-cinzel tracking-wide drop-shadow-lg",children:i}),(0,s.jsxs)("h1",{className:"text-white text-3xl md:text-4xl font-cinzel tracking-wide mb-3 drop-shadow-lg",children:["Welcome back",t&&", ".concat(t)]}),(0,s.jsx)("p",{className:"text-white/80 text-lg font-cinzel tracking-wide drop-shadow-md",children:"Your elements await"})]})]}),(0,s.jsxs)("button",{onClick:()=>{c?e.push("/maia"):e.push("/signin")},className:"relative bg-transparent border border-white/40 text-white px-12 py-4 rounded-full text-lg font-cinzel tracking-[0.2em] uppercase hover:bg-white/10 transition-all duration-300 hover:scale-105 group",children:[(0,s.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-teal-400/0 to-teal-300/0 group-hover:from-teal-400/20 group-hover:to-teal-300/10 transition-all duration-300 blur-sm"}),(0,s.jsx)("span",{className:"relative drop-shadow-sm",children:"Continue"})]})]})]})}},4290:function(e,t,r){"use strict";r.d(t,{e:function(){return n}});class s{static getInstance(){return s.instance||(s.instance=new s),s.instance}restoreSession(){try{const e=localStorage.getItem("beta_user");if(!e)return{isAuthenticated:!1,user:null,needsOnboarding:!1,source:"none"};const t=JSON.parse(e);return this.currentUser=t,{isAuthenticated:!0,user:t,needsOnboarding:!t.onboarded,source:"localStorage"}}catch(e){return console.error("[BetaSession] Error restoring session:",e),{isAuthenticated:!1,user:null,needsOnboarding:!1,source:"none"}}}setUser(e){this.currentUser=e,localStorage.setItem("beta_user",JSON.stringify(e)),e.lastVisit=(new Date).toISOString(),this.notifyListeners()}updateUser(e){if(!this.currentUser)return void console.warn("[BetaSession] No current user to update");this.currentUser={...this.currentUser,...e},localStorage.setItem("beta_user",JSON.stringify(this.currentUser));const t=localStorage.getItem("beta_users");if(t)try{const r=JSON.parse(t);r[this.currentUser.username]&&(r[this.currentUser.username]={...r[this.currentUser.username],...e},localStorage.setItem("beta_users",JSON.stringify(r)))}catch(r){console.error("[BetaSession] Error updating beta_users:",r)}this.notifyListeners()}markOnboarded(){this.updateUser({onboarded:!0})}updateLastVisit(){this.updateUser({lastVisit:(new Date).toISOString()})}getCurrentUser(){return this.currentUser}getSessionState(){return{isAuthenticated:!!this.currentUser,user:this.currentUser,needsOnboarding:!!this.currentUser&&!this.currentUser.onboarded,source:this.currentUser?"localStorage":"none"}}isAuthenticated(){return!!this.currentUser}needsOnboarding(){return!!this.currentUser&&!this.currentUser.onboarded}clearSession(){this.currentUser=null,localStorage.removeItem("beta_user"),localStorage.removeItem("explorerId"),localStorage.removeItem("explorerName"),sessionStorage.clear(),this.notifyListeners()}subscribe(e){return this.sessionListeners.add(e),()=>{this.sessionListeners.delete(e)}}notifyListeners(){const e=this.getSessionState();this.sessionListeners.forEach((t=>{try{t(e)}catch(r){console.error("[BetaSession] Error in listener:",r)}}))}handleStorageChange(e){if("beta_user"===e.key)if(e.newValue)try{this.currentUser=JSON.parse(e.newValue),this.notifyListeners()}catch(t){console.error("[BetaSession] Error parsing beta_user from storage event:",t)}else this.currentUser=null,this.notifyListeners()}async syncWithSupabase(){var e;if(null===(e=this.currentUser)||void 0===e?void 0:e.explorerId)try{console.log("[BetaSession] Supabase sync not yet implemented")}catch(t){console.error("[BetaSession] Error syncing with Supabase:",t)}}constructor(){this.currentUser=null,this.sessionListeners=new Set,this.restoreSession(),window.addEventListener("storage",this.handleStorageChange.bind(this))}}const n=s.getInstance()},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})}},function(e){e.O(0,[971,966,744],(function(){return t=4913,e(e.s=t);var t}));var t=e.O();_N_E=t}]);