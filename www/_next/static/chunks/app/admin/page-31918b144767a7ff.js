(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{68597:function(e,t,s){Promise.resolve().then(s.bind(s,49834))},49834:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var r=s(57437),a=s(2265),n=s(99376),i=s(84290),l=s(32660),o=s(95805),c=s(79205);const d=(0,c.Z)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),u=(0,c.Z)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);var h=s(83229),m=s(32489);const x=(0,c.Z)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var p=s(18930);function b(){const e=(0,n.useRouter)(),[t,s]=(0,a.useState)(null),[c,b]=(0,a.useState)([]),[w,g]=(0,a.useState)(null),[y,f]=(0,a.useState)({}),[j,N]=(0,a.useState)(!1),[v,k]=(0,a.useState)({username:"",name:"",email:"",password:"",onboarded:!1}),[S,U]=(0,a.useState)(!1),[C,_]=(0,a.useState)("");(0,a.useEffect)((()=>{const t=i.betaSession.getUser();t?(s(t),A()):e.push("/signin")}),[e]);const A=()=>{const e=localStorage.getItem("beta_users");if(e){const t=JSON.parse(e),s=Object.values(t);b(s)}const t=[{id:"user_kelly_default",username:"Kelly@Soullab.org",name:"Kelly",email:"Kelly@Soullab.org",password:"Mandala21",onboarded:!0,createdAt:(new Date).toISOString()},{id:"user_kelly_lowercase",username:"kelly@soullab.org",name:"Kelly",email:"kelly@soullab.org",password:"Mandala21",onboarded:!0,createdAt:(new Date).toISOString()},{id:"user_kelly_name",username:"Kelly",name:"Kelly",email:"Kelly@Soullab.org",password:"Mandala21",onboarded:!0,createdAt:(new Date).toISOString()}],s=[...t];c.forEach((e=>{t.find((t=>t.username===e.username))||s.push(e)})),b(s)},O=e=>{const t={};e.forEach((e=>{t[e.username]=e})),localStorage.setItem("beta_users",JSON.stringify(t)),b(e)},E=()=>{if(!y.username||!y.password)return void _("Username and password are required");const e=c.map((e=>e.id===w?{...e,...y}:e));O(e),g(null),f({}),_("User updated successfully"),setTimeout((()=>_("")),3e3)},Z=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";let t="";for(let s=0;s<12;s++)t+=e.charAt(Math.floor(70*Math.random()));return t};return t?(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 via-slate-700 to-teal-800",children:[(0,r.jsx)("div",{className:"bg-white/10 backdrop-blur-md border-b border-white/20",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-6 py-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("button",{onClick:()=>e.push("/maia"),className:"text-white/70 hover:text-white transition-colors",children:(0,r.jsx)(l.Z,{className:"w-6 h-6"})}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(o.Z,{className:"w-6 h-6 text-teal-400"}),(0,r.jsx)("h1",{className:"text-2xl font-cinzel text-white",children:"Admin Panel"})]})]}),(0,r.jsxs)("div",{className:"text-white/70 text-sm",children:["Logged in as ",t.name]})]})}),(0,r.jsxs)("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[C&&(0,r.jsx)("div",{className:"mb-6 bg-green-500/20 border border-green-500/30 text-green-200 px-4 py-3 rounded-lg",children:C}),(0,r.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-xl font-cinzel text-white",children:"User Management"}),(0,r.jsxs)("button",{onClick:()=>N(!0),className:"bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[(0,r.jsx)(d,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Add User"})]})]}),j&&(0,r.jsxs)("div",{className:"mb-6 bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[(0,r.jsx)("h3",{className:"text-lg font-cinzel text-white mb-4",children:"Add New User"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-white/70 mb-2",children:"Username"}),(0,r.jsx)("input",{type:"text",value:v.username||"",onChange:e=>k({...v,username:e.target.value}),className:"w-full px-3 py-2 bg-white/10 border border-white/30 rounded text-white",placeholder:"Enter username"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-white/70 mb-2",children:"Name"}),(0,r.jsx)("input",{type:"text",value:v.name||"",onChange:e=>k({...v,name:e.target.value}),className:"w-full px-3 py-2 bg-white/10 border border-white/30 rounded text-white",placeholder:"Enter display name"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-white/70 mb-2",children:"Email"}),(0,r.jsx)("input",{type:"email",value:v.email||"",onChange:e=>k({...v,email:e.target.value}),className:"w-full px-3 py-2 bg-white/10 border border-white/30 rounded text-white",placeholder:"Enter email"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-white/70 mb-2",children:"Password"}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("input",{type:"text",value:v.password||"",onChange:e=>k({...v,password:e.target.value}),className:"flex-1 px-3 py-2 bg-white/10 border border-white/30 rounded text-white",placeholder:"Enter password"}),(0,r.jsx)("button",{onClick:()=>k({...v,password:Z()}),className:"px-3 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded transition-colors",title:"Generate random password",children:(0,r.jsx)(u,{className:"w-4 h-4"})})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,r.jsx)("button",{onClick:()=>N(!1),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded transition-colors",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{if(!v.username||!v.password||!v.email)return void _("Username, email, and password are required");if(c.find((e=>e.username===v.username)))return void _("Username already exists");const e={id:"user_".concat(Date.now()),username:v.username,name:v.name||v.username,email:v.email,password:v.password,onboarded:v.onboarded||!1,createdAt:(new Date).toISOString()},t=[...c,e];O(t),N(!1),k({username:"",name:"",email:"",password:"",onboarded:!1}),_("User added successfully"),setTimeout((()=>_("")),3e3)},className:"px-4 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded transition-colors",children:"Add User"})]})]}),(0,r.jsx)("div",{className:"bg-white/10 backdrop-blur-md rounded-lg border border-white/20 overflow-hidden",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-white/5",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left px-4 py-3 text-white/70 font-cinzel",children:"Username"}),(0,r.jsx)("th",{className:"text-left px-4 py-3 text-white/70 font-cinzel",children:"Name"}),(0,r.jsx)("th",{className:"text-left px-4 py-3 text-white/70 font-cinzel",children:"Email"}),(0,r.jsx)("th",{className:"text-left px-4 py-3 text-white/70 font-cinzel",children:"Password"}),(0,r.jsx)("th",{className:"text-left px-4 py-3 text-white/70 font-cinzel",children:"Status"}),(0,r.jsx)("th",{className:"text-center px-4 py-3 text-white/70 font-cinzel",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:c.map((e=>(0,r.jsxs)("tr",{className:"border-t border-white/10",children:[(0,r.jsx)("td",{className:"px-4 py-3",children:w===e.id?(0,r.jsx)("input",{type:"text",value:y.username||"",onChange:e=>f({...y,username:e.target.value}),className:"w-full px-2 py-1 bg-white/10 border border-white/30 rounded text-white text-sm"}):(0,r.jsx)("span",{className:"text-white",children:e.username})}),(0,r.jsx)("td",{className:"px-4 py-3",children:w===e.id?(0,r.jsx)("input",{type:"text",value:y.name||"",onChange:e=>f({...y,name:e.target.value}),className:"w-full px-2 py-1 bg-white/10 border border-white/30 rounded text-white text-sm"}):(0,r.jsx)("span",{className:"text-white",children:e.name})}),(0,r.jsx)("td",{className:"px-4 py-3",children:w===e.id?(0,r.jsx)("input",{type:"email",value:y.email||"",onChange:e=>f({...y,email:e.target.value}),className:"w-full px-2 py-1 bg-white/10 border border-white/30 rounded text-white text-sm"}):(0,r.jsx)("span",{className:"text-white",children:e.email})}),(0,r.jsx)("td",{className:"px-4 py-3",children:w===e.id?(0,r.jsxs)("div",{className:"flex space-x-1",children:[(0,r.jsx)("input",{type:"text",value:y.password||"",onChange:e=>f({...y,password:e.target.value}),className:"flex-1 px-2 py-1 bg-white/10 border border-white/30 rounded text-white text-sm"}),(0,r.jsx)("button",{onClick:()=>f({...y,password:Z()}),className:"px-2 py-1 bg-yellow-600 hover:bg-yellow-700 text-white rounded transition-colors",title:"Generate random password",children:(0,r.jsx)(u,{className:"w-3 h-3"})})]}):(0,r.jsx)("span",{className:"text-white/70 font-mono",children:"\u2022".repeat(8)})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs ".concat(e.onboarded?"bg-green-500/20 text-green-300":"bg-yellow-500/20 text-yellow-300"),children:e.onboarded?"Active":"Pending"})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)("div",{className:"flex justify-center space-x-2",children:w===e.id?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:E,className:"text-green-400 hover:text-green-300 transition-colors",title:"Save changes",children:(0,r.jsx)(h.Z,{className:"w-4 h-4"})}),(0,r.jsx)("button",{onClick:()=>{g(null),f({})},className:"text-red-400 hover:text-red-300 transition-colors",title:"Cancel",children:(0,r.jsx)(m.Z,{className:"w-4 h-4"})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>(e=>{g(e.id),f(e)})(e),className:"text-blue-400 hover:text-blue-300 transition-colors",title:"Edit user",children:(0,r.jsx)(x,{className:"w-4 h-4"})}),(0,r.jsx)("button",{onClick:()=>(e=>{if(c.find((t=>t.id===e))&&["user_kelly_default","user_kelly_lowercase","user_kelly_name"].includes(e))return _("Cannot delete default test users"),void setTimeout((()=>_("")),3e3);if(confirm("Are you sure you want to delete this user?")){const t=c.filter((t=>t.id!==e));O(t),_("User deleted successfully"),setTimeout((()=>_("")),3e3)}})(e.id),className:"text-red-400 hover:text-red-300 transition-colors",title:"Delete user",children:(0,r.jsx)(p.Z,{className:"w-4 h-4"})})]})})})]},e.id)))})]})})}),(0,r.jsxs)("div",{className:"mt-8 bg-white/10 backdrop-blur-md rounded-lg p-6 border border-white/20",children:[(0,r.jsx)("h3",{className:"text-lg font-cinzel text-white mb-4",children:"Quick Actions"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("button",{onClick:()=>{const e=Z();navigator.clipboard.writeText(e),_("Generated password copied to clipboard: ".concat(e)),setTimeout((()=>_("")),5e3)},className:"bg-yellow-600/20 border border-yellow-500/30 text-yellow-200 px-4 py-3 rounded-lg hover:bg-yellow-600/30 transition-colors flex items-center space-x-2",children:[(0,r.jsx)(u,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Generate Random Password"})]}),(0,r.jsxs)("button",{onClick:()=>{localStorage.removeItem("beta_users"),A(),_("Reset to default users"),setTimeout((()=>_("")),3e3)},className:"bg-red-600/20 border border-red-500/30 text-red-200 px-4 py-3 rounded-lg hover:bg-red-600/30 transition-colors flex items-center space-x-2",children:[(0,r.jsx)(p.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Reset to Defaults"})]}),(0,r.jsxs)("div",{className:"bg-teal-600/20 border border-teal-500/30 text-teal-200 px-4 py-3 rounded-lg flex items-center space-x-2",children:[(0,r.jsx)(o.Z,{className:"w-4 h-4"}),(0,r.jsxs)("span",{children:["Total Users: ",c.length]})]})]})]})]})]}):(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 to-slate-900 flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-white",children:"Loading..."})})}},84290:function(e,t,s){"use strict";s.r(t),s.d(t,{betaSession:function(){return a},useBetaSession:function(){return n}});class r{static getInstance(){return r.instance||(r.instance=new r),r.instance}restoreSession(){try{const e=localStorage.getItem("beta_user");if(!e)return{isAuthenticated:!1,user:null,needsOnboarding:!1,source:"none"};const t=JSON.parse(e);return this.currentUser=t,{isAuthenticated:!0,user:t,needsOnboarding:!t.onboarded,source:"localStorage"}}catch(e){return console.error("[BetaSession] Error restoring session:",e),{isAuthenticated:!1,user:null,needsOnboarding:!1,source:"none"}}}setUser(e){this.currentUser=e,localStorage.setItem("beta_user",JSON.stringify(e)),e.lastVisit=(new Date).toISOString(),this.notifyListeners()}updateUser(e){if(!this.currentUser)return void console.warn("[BetaSession] No current user to update");this.currentUser={...this.currentUser,...e},localStorage.setItem("beta_user",JSON.stringify(this.currentUser));const t=localStorage.getItem("beta_users");if(t)try{const s=JSON.parse(t);s[this.currentUser.username]&&(s[this.currentUser.username]={...s[this.currentUser.username],...e},localStorage.setItem("beta_users",JSON.stringify(s)))}catch(s){console.error("[BetaSession] Error updating beta_users:",s)}this.notifyListeners()}markOnboarded(){this.updateUser({onboarded:!0})}updateLastVisit(){this.updateUser({lastVisit:(new Date).toISOString()})}getCurrentUser(){return this.currentUser}getSessionState(){return{isAuthenticated:!!this.currentUser,user:this.currentUser,needsOnboarding:!!this.currentUser&&!this.currentUser.onboarded,source:this.currentUser?"localStorage":"none"}}isAuthenticated(){return!!this.currentUser}needsOnboarding(){return!!this.currentUser&&!this.currentUser.onboarded}clearSession(){this.currentUser=null,localStorage.removeItem("beta_user"),localStorage.removeItem("explorerId"),localStorage.removeItem("explorerName"),sessionStorage.clear(),this.notifyListeners()}subscribe(e){return this.sessionListeners.add(e),()=>{this.sessionListeners.delete(e)}}notifyListeners(){const e=this.getSessionState();this.sessionListeners.forEach((t=>{try{t(e)}catch(s){console.error("[BetaSession] Error in listener:",s)}}))}handleStorageChange(e){if("beta_user"===e.key)if(e.newValue)try{this.currentUser=JSON.parse(e.newValue),this.notifyListeners()}catch(t){console.error("[BetaSession] Error parsing beta_user from storage event:",t)}else this.currentUser=null,this.notifyListeners()}async syncWithSupabase(){var e;if(null===(e=this.currentUser)||void 0===e?void 0:e.explorerId)try{console.log("[BetaSession] Supabase sync not yet implemented")}catch(t){console.error("[BetaSession] Error syncing with Supabase:",t)}}constructor(){this.currentUser=null,this.sessionListeners=new Set,this.restoreSession(),window.addEventListener("storage",this.handleStorageChange.bind(this))}}const a=r.getInstance();function n(){return a.getSessionState()}},79205:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var r=s(2265);const a=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,s)=>s?s.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(((e,t,s)=>Boolean(e)&&""!==e.trim()&&s.indexOf(e)===t)).join(" ").trim()},i=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const o=(0,r.forwardRef)(((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:d="",children:u,iconNode:h,...m}=e;return(0,r.createElement)("svg",{ref:t,...l,width:a,height:a,stroke:s,strokeWidth:c?24*Number(o)/Number(a):o,className:n("lucide",d),...!u&&!i(m)&&{"aria-hidden":"true"},...m},[...h.map((e=>{let[t,s]=e;return(0,r.createElement)(t,s)})),...Array.isArray(u)?u:[u]])})),c=(e,t)=>{const s=(0,r.forwardRef)(((s,i)=>{let{className:l,...c}=s;return(0,r.createElement)(o,{ref:i,iconNode:t,className:n("lucide-".concat((d=a(e),d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),l),...c});var d}));return s.displayName=a(e),s}},32660:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});const r=(0,s(79205).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},83229:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});const r=(0,s(79205).Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},18930:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});const r=(0,s(79205).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},95805:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});const r=(0,s(79205).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},32489:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});const r=(0,s(79205).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},99376:function(e,t,s){"use strict";var r=s(35475);s.o(r,"redirect")&&s.d(t,{redirect:function(){return r.redirect}}),s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})}},function(e){e.O(0,[2971,2117,1744],(function(){return t=68597,e(e.s=t);var t}));var t=e.O();_N_E=t}]);