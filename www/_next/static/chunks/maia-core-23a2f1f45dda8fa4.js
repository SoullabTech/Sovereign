"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5867],{62717:function(e,t,o){o.r(t),o.d(t,{default:function(){return k}});var s=o(57437),a=o(2265),r=o(99376),n=o(33398),l=o(25303),i=o(20985),c=o(58135),d=o(12256),m=o(88346),b=o(32125),g=o(91723),h=o(56454),u=o(95805),p=o(47692),x=o(48736),f=o(32489),v=o(96215),w=o(82023),y=o(81706),N=o(14820),j=o(5095),S=o(8276);function k(){const e=(0,r.useRouter)(),[t,k]=(0,a.useState)("guest"),[I,A]=(0,a.useState)("Explorer"),[C,E]=(0,a.useState)(),[M,O]=(0,a.useState)(""),[D,_]=(0,a.useState)(!1),[z,T]=(0,a.useState)(!1),[B,L]=(0,a.useState)(!1),[Z,U]=(0,a.useState)("normal"),[P,F]=(0,a.useState)(!0),[H,R]=(0,a.useState)(!1),[W,V]=(0,a.useState)(!1),[K,J]=(0,a.useState)("shimmer"),[G,q]=(0,a.useState)(!1),[Y,$]=(0,a.useState)(!1),[Q,X]=(0,a.useState)(!1),[ee,te]=(0,a.useState)(!1),[oe,se]=(0,a.useState)(!1),[ae,re]=(0,a.useState)(!1),[ne,le]=(0,a.useState)(!1),[ie,ce]=(0,a.useState)(!1),[de,me]=(0,a.useState)("single"),[be,ge]=(0,a.useState)(!1),[he,ue]=(0,a.useState)(!1),[pe,xe]=(0,a.useState)(!0),[fe,ve]=(0,a.useState)(!1),[we,ye]=(0,a.useState)(!1),[Ne,je]=(0,a.useState)(!1),[Se,ke]=(0,a.useState)(!1),Ie=(0,a.useRef)(!1);(0,a.useEffect)((()=>{const e=()=>{te(window.innerWidth>=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,a.useEffect)((()=>{(()=>{if(!(localStorage.getItem("explorerId")||localStorage.getItem("betaUserId")))return console.log("\ud83d\udd12 [MAIA] No valid session found"),console.log("\ud83d\udcda [Community Commons] Access still available for Community features"),void L(!1);console.log("\u2705 [MAIA] Valid session found, full access granted"),L(!0)})()}),[e]),(0,a.useEffect)((()=>{(async()=>{T(!0);const e=localStorage.getItem("maia_session_id");if(e)O(e),console.log("\ud83d\udcab [MAIA] Restored session:",e);else{const e="session_".concat(Date.now());localStorage.setItem("maia_session_id",e),O(e),console.log("\u2728 [MAIA] Created new session:",e)}const t=await async function(){const e=window.location.hostname,t=localStorage.getItem("explorerId")||localStorage.getItem("betaUserId");if("kelly-nezat"===t||"kelly.nezat"===t||"soullab-kelly"===t)return console.log("\ud83c\udf1f [MAIA] Kelly recognized from specific userId:",t),localStorage.setItem("explorerName","Kelly"),localStorage.setItem("explorerId","kelly-nezat"),{id:"kelly-nezat",name:"Kelly"};if(t)try{const o=new URLSearchParams;o.append("userId",t),o.append("domain",e);const s=await fetch("/api/user/profile?".concat(o.toString())),a=await s.json();if(a.success&&a.user&&a.user.name){const e=a.user.name;if("Explorer"!==e&&"guest"!==e&&e.trim().length>0)return console.log("\u2705 [MAIA] Fresh user profile fetched from API:",e),localStorage.setItem("explorerName",e),localStorage.setItem("explorerId",a.user.id),localStorage.setItem("betaOnboardingComplete","true"),{id:a.user.id,name:e}}}catch(s){console.error("\u274c [MAIA] Error fetching user profile:",s)}const o=localStorage.getItem("beta_user");if(o)try{const e=JSON.parse(o),t=e.name||e.displayName||e.username||e.firstName||e.fullName;if(e.id&&t){const o=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase();return localStorage.setItem("explorerName",o),localStorage.setItem("explorerId",e.id),localStorage.setItem("betaOnboardingComplete","true"),console.log("\u2705 [MAIA] User authenticated from signup data:",o),{id:e.id,name:o}}console.log("\ud83d\udd0d [MAIA] beta_user found but missing name or id:",e)}catch(a){console.error("\u274c [MAIA] Error parsing beta_user:",a)}if("true"===localStorage.getItem("betaOnboardingComplete")){const e=localStorage.getItem("explorerId")||localStorage.getItem("betaUserId"),t=localStorage.getItem("explorerName");if(e&&t)return console.log("\ud83d\udce6 [MAIA] Using legacy user data:",t),{id:e,name:t}}return console.log("\u26a0\ufe0f [MAIA] No user data found, using defaults"),{id:"guest",name:"Explorer"}}();k(t.id),A(t.name);const o=localStorage.getItem("explorerName");o&&"Explorer"!==o&&o.trim().length>0?(console.log("\u2705 [MAIA] Reinforcing user name from localStorage:",o),A(o)):console.log("\u2753 [MAIA] explorerName not found in localStorage, using:",t.name);const s=localStorage.getItem("beta_user");if(s)try{const e=JSON.parse(s);e.birthDate&&(E(e.birthDate),console.log("\ud83d\udcc5 User birth date loaded:",e.birthDate))}catch(n){console.error("Error loading user birth date:",n)}const a=localStorage.getItem("maia_welcome_seen");R(!a);const r=localStorage.getItem("selected_voice");r&&J(r)})()}),[]);return(0,a.useEffect)((()=>{if(Ie.current)return;Ie.current=!0,console.log("\ud83d\udd0d [MAIA] Starting enhanced user name resolution...");const e=localStorage.getItem("explorerName"),o=localStorage.getItem("explorerId");if("kelly"===(null===e||void 0===e?void 0:e.toLowerCase())||"kelly-nezat"===o)return localStorage.setItem("explorerName","Kelly"),localStorage.setItem("explorerId","kelly-nezat"),k("kelly-nezat"),A("Kelly"),void console.log("\ud83c\udf1f [MAIA] Kelly priority authentication successful");const s=localStorage.getItem("beta_user");if(s)try{const e=JSON.parse(s),o=e.id||"guest",a=e.name||e.displayName||e.username||e.firstName||e.fullName;if(a&&"Explorer"!==a&&"guest"!==a&&a.trim().length>0){const e=a.split(" ")[0],s=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase();return localStorage.setItem("explorerName",s),localStorage.setItem("explorerId",o),localStorage.setItem("betaOnboardingComplete","true"),t!==o&&k(o),I!==s&&A(s),void console.log("\u2705 [MAIA] User session restored from signup:",{name:s,id:o})}}catch(l){console.error("\u274c [MAIA] Error parsing user data:",l)}const a=localStorage.getItem("explorerId")||localStorage.getItem("betaUserId"),r=localStorage.getItem("explorerName");if(a&&r&&"Explorer"!==r&&"guest"!==r&&r.trim().length>0)return t!==a&&k(a),I!==r&&A(r),void console.log("\u2705 [MAIA] User session restored from legacy:",{name:r,id:a});if(a&&"guest"!==a&&"anonymous"!==a&&!a.startsWith("guest")){const e=a.replace(/[-_]/g," ").replace(/\b\w/g,(e=>e.toUpperCase())).replace(/^Guest\d*$/,"Explorer");if(e&&"Explorer"!==e&&e!==a)return A(e),localStorage.setItem("explorerName",e),void console.log("\u2705 [MAIA] Extracted name from userId:",{userId:a,extractedName:e})}const n="guest";localStorage.setItem("explorerId",n),localStorage.setItem("explorerName","Explorer"),localStorage.setItem("betaOnboardingComplete","true"),k(n),A("Explorer"),console.log("\u26a0\ufe0f [MAIA] Created default guest session - no meaningful user data found")}),[t,I]),(0,s.jsx)(c.S,{children:(0,s.jsx)(S.b,{currentPage:"maia",children:(0,s.jsxs)("div",{className:"h-screen relative overflow-hidden bg-gradient-to-br from-stone-950 via-stone-900 to-stone-950 flex flex-col",children:[(0,s.jsx)("div",{className:"fixed bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-stone-950 via-stone-900 to-transparent z-0"}),(0,s.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[...Array(30)].map(((e,t)=>(0,s.jsx)(N.E.div,{className:"absolute w-1 h-1 bg-[#D4B896]/20 rounded-full",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%")},animate:{y:[0,-30,0],opacity:[.2,.5,.2],scale:[1,1.5,1]},transition:{duration:3+4*Math.random(),repeat:1/0,delay:2*Math.random()}},t)))}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-96 bg-gradient-to-t from-[#3d2817]/30 via-transparent to-transparent pointer-events-none z-0"}),(0,s.jsx)("div",{className:"flex-shrink-0 relative z-[120] pt-4 pb-2",children:(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("img",{src:"/holoflower-amber.png",alt:"Soullab Holoflower",className:"w-4 h-4 opacity-90 drop-shadow-[0_0_4px_rgba(251,146,60,0.5)]",style:{filter:"brightness(1.1)"}}),(0,s.jsx)("span",{className:"text-sm font-light text-amber-300/80 tracking-wider",children:"SOULLAB"})]})})}),(0,s.jsxs)("div",{className:"flex-shrink-0 relative overflow-hidden bg-gradient-to-r from-black/20 via-amber-950/5 to-black/20 border-b border-amber-900/3 backdrop-blur-sm z-[110] pt-8",children:[(0,s.jsx)("div",{className:"absolute inset-0 opacity-5 pointer-events-none",children:(0,s.jsx)(N.E.div,{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(1px 1px at 20% 30%, amber 0%, transparent 50%),\n                                 radial-gradient(1px 1px at 60% 70%, amber 0%, transparent 50%),\n                                 radial-gradient(1px 1px at 80% 10%, amber 0%, transparent 50%)",backgroundSize:"50px 50px"},animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,ease:"linear"}})}),(0,s.jsx)(N.E.div,{className:"absolute inset-0 bg-gradient-to-b from-transparent via-amber-600/3 to-transparent pointer-events-none",animate:{y:["-100%","200%"]},transition:{duration:8,repeat:1/0,ease:"linear",repeatDelay:3}}),(0,s.jsx)("div",{className:"relative pb-1",children:ee?(0,s.jsx)("div",{className:"flex justify-center px-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsxs)("button",{onClick:()=>{q(!G)},className:"flex-shrink-0 px-3 py-1.5 rounded-md border transition-all flex items-center gap-1.5 touch-manipulation ".concat(G?"bg-blue-500/20 border-blue-500/40 text-blue-300":"bg-amber-500/80 border-2 border-amber-400 text-amber-100 font-bold shadow-lg"),style:{touchAction:"manipulation",pointerEvents:"auto"},children:[(0,s.jsx)("span",{className:"text-sm",children:G?"\ud83d\udcac":"\ud83c\udfa4"}),(0,s.jsx)("span",{className:"text-xs font-medium whitespace-nowrap",children:G?"Text":"Voice"})]}),(0,s.jsx)("button",{onClick:()=>{U("normal")},className:"flex-shrink-0 px-3 py-1.5 rounded-md text-xs font-medium transition-all whitespace-nowrap touch-manipulation ".concat("normal"===Z?"bg-amber-500/80 text-amber-100 border-2 border-amber-400 font-bold shadow-lg":"bg-amber-500/60 text-amber-100 hover:text-amber-50 border-2 border-amber-500 hover:border-amber-400 shadow-md"),style:{touchAction:"manipulation",pointerEvents:"auto"},children:"Dialogue"}),(0,s.jsx)("button",{onClick:()=>{U("patient")},className:"flex-shrink-0 px-3 py-1.5 rounded-md text-xs font-medium transition-all whitespace-nowrap touch-manipulation ".concat("patient"===Z?"bg-teal-500/30 text-teal-200 border border-teal-500/50":"bg-black/20 text-amber-400/70 hover:text-amber-300 border border-amber-500/20"),style:{touchAction:"manipulation",pointerEvents:"auto"},children:"Counsel"}),(0,s.jsx)("button",{onClick:()=>{U("session")},className:"flex-shrink-0 px-3 py-1.5 rounded-md text-xs font-medium transition-all whitespace-nowrap touch-manipulation ".concat("session"===Z?"bg-blue-500/30 text-blue-200 border border-blue-500/50":"bg-black/20 text-amber-400/70 hover:text-amber-300 border border-amber-500/20"),style:{touchAction:"manipulation",pointerEvents:"auto"},children:"Scribe"}),Q?(0,s.jsxs)("div",{className:"flex-shrink-0 flex items-center gap-1.5 px-3 py-1.5 rounded-md bg-green-500/15 border border-green-500/40 text-green-400 text-xs font-medium whitespace-nowrap",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400 animate-pulse"}),"Active"]}):(0,s.jsxs)(N.E.button,{onClick:()=>{console.log("\ud83d\udd25 Opening session selector"),$(!0)},className:"flex-shrink-0 flex items-center gap-1.5 px-3 py-1.5 rounded-md bg-[#D4B896]/15 hover:bg-[#D4B896]/25 border border-[#D4B896]/30 hover:border-[#D4B896]/50 text-[#D4B896] text-xs font-medium transition-all whitespace-nowrap",whileHover:{scale:1.02},children:[(0,s.jsx)(g.Z,{className:"w-3 h-3"}),"Start Session"]}),(0,s.jsx)(N.E.button,{onClick:()=>ue(!he),className:"flex-shrink-0 p-3 rounded-xl bg-gradient-to-br from-amber-500/20 to-orange-500/15 hover:from-amber-500/30 hover:to-orange-500/25 border-2 border-amber-500/50 hover:border-amber-400/80 transition-all duration-300 shadow-lg hover:shadow-amber-500/25 backdrop-blur-sm",whileHover:{scale:1.08,boxShadow:"0 0 25px rgba(245, 158, 11, 0.4)"},whileTap:{scale:.95},title:"Sacred Lab Tools - PFI Interface",children:(0,s.jsx)(h.Z,{className:"w-6 h-6",style:{color:"rgb(251, 191, 36) !important",stroke:"rgb(251, 191, 36) !important",fill:"rgb(251, 191, 36) !important",filter:"brightness(1.3) drop-shadow(0 0 8px rgba(251, 191, 36, 0.6))"}})}),(0,s.jsx)("div",{className:"relative z-[130]",children:(0,s.jsx)(N.E.button,{onClick:()=>{console.log("\ud83d\udcda Opening Community Commons panel"),ke(!Se)},className:"flex-shrink-0 p-2 rounded-lg bg-transparent hover:bg-amber-500/20 border border-amber-500/30 hover:border-amber-500 transition-all",whileHover:{scale:1.05},style:{touchAction:"manipulation",pointerEvents:"auto"},title:"Community Commons",children:(0,s.jsx)(u.Z,{className:"w-5 h-5",style:{color:"rgb(251, 191, 36) !important",stroke:"rgb(251, 191, 36) !important",fill:"rgb(251, 191, 36) !important",filter:"brightness(1.2)"}})})}),(0,s.jsx)(N.E.button,{onClick:()=>{console.log("\ud83d\udeaa User logging out"),Promise.resolve().then(o.bind(o,84290)).then((e=>{let{betaSession:t}=e;t.clearSession()})),localStorage.removeItem("betaOnboardingComplete"),localStorage.removeItem("authToken"),localStorage.removeItem("sessionId"),setTimeout((()=>{e.push("/welcome-back")}),100)},className:"flex-shrink-0 p-2 rounded-lg bg-transparent hover:bg-amber-500/20 border border-amber-500/30 hover:border-amber-500 transition-all",whileHover:{scale:1.05},title:"Logout",children:(0,s.jsx)(p.Z,{className:"w-5 h-5",style:{color:"rgb(251, 191, 36) !important",stroke:"rgb(251, 191, 36) !important",fill:"rgb(251, 191, 36) !important",filter:"brightness(1.2)"}})}),ee&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-px h-6 bg-amber-500/20 flex-shrink-0"}),be&&(0,s.jsxs)("div",{className:"flex-shrink-0 flex items-center gap-1.5 px-3 py-1.5 rounded-md bg-indigo-500/15 border border-indigo-500/40 text-indigo-400 text-xs font-medium whitespace-nowrap",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-400 animate-pulse"}),"Extended Lab Session"]}),(0,s.jsx)("div",{className:"flex-shrink-0 flex items-center gap-1.5 px-2 py-1 rounded-md bg-amber-500/80 border-2 border-amber-400 text-amber-100 text-[10px] font-bold whitespace-nowrap shadow-lg",children:"\ud83e\uddea Lab Mode"})]}),(0,s.jsx)("div",{className:"w-px h-6 bg-amber-500/20 flex-shrink-0"})]})}):(0,s.jsxs)("div",{className:"relative overflow-hidden px-2",children:[(0,s.jsxs)(N.E.div,{className:"flex items-center gap-1",style:{width:"max-content",minWidth:"120vw"},drag:"x",dragConstraints:{left:-300,right:0},dragElastic:.1,dragMomentum:!1,whileDrag:{scale:.98,transition:{duration:.1}},initial:{x:0},animate:{x:0},transition:{type:"spring",stiffness:400,damping:40},children:[(0,s.jsxs)("button",{onClick:()=>{q(!G)},className:"flex-shrink-0 px-3 py-1.5 rounded-md border transition-all flex items-center gap-1.5 touch-manipulation ".concat(G?"bg-blue-500/20 border-blue-500/40 text-blue-300":"bg-amber-500/80 border-2 border-amber-400 text-amber-100 font-bold shadow-lg"),style:{touchAction:"manipulation",pointerEvents:"auto"},children:[(0,s.jsx)("span",{className:"text-sm",children:G?"\ud83d\udcac":"\ud83c\udfa4"}),(0,s.jsx)("span",{className:"text-xs font-medium whitespace-nowrap",children:G?"Text":"Voice"})]}),(0,s.jsx)("button",{onClick:()=>{U("normal")},className:"flex-shrink-0 px-3 py-1.5 rounded-md text-xs font-medium transition-all whitespace-nowrap touch-manipulation ".concat("normal"===Z?"bg-amber-500/80 text-amber-100 border-2 border-amber-400 font-bold shadow-lg":"bg-amber-500/60 text-amber-100 hover:text-amber-50 border-2 border-amber-500 hover:border-amber-400 shadow-md"),style:{touchAction:"manipulation",pointerEvents:"auto"},children:"Dialogue"}),(0,s.jsx)("button",{onClick:()=>{U("patient")},className:"flex-shrink-0 px-3 py-1.5 rounded-md text-xs font-medium transition-all whitespace-nowrap touch-manipulation ".concat("patient"===Z?"bg-teal-500/30 text-teal-200 border border-teal-500/50":"bg-black/20 text-amber-400/70 hover:text-amber-300 border border-amber-500/20"),style:{touchAction:"manipulation",pointerEvents:"auto"},children:"Counsel"}),(0,s.jsx)("button",{onClick:()=>{U("session")},className:"flex-shrink-0 px-3 py-1.5 rounded-md text-xs font-medium transition-all whitespace-nowrap touch-manipulation ".concat("session"===Z?"bg-blue-500/30 text-blue-200 border border-blue-500/50":"bg-black/20 text-amber-400/70 hover:text-amber-300 border border-amber-500/20"),style:{touchAction:"manipulation",pointerEvents:"auto"},children:"Scribe"}),Q?(0,s.jsxs)("div",{className:"flex-shrink-0 flex items-center gap-1.5 px-3 py-1.5 rounded-md bg-green-500/15 border border-green-500/40 text-green-400 text-xs font-medium whitespace-nowrap",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400 animate-pulse"}),"Active"]}):(0,s.jsxs)(N.E.button,{onClick:()=>{console.log("\ud83d\udd25 Opening session selector"),$(!0)},className:"flex-shrink-0 flex items-center gap-1.5 px-3 py-1.5 rounded-md bg-[#D4B896]/15 hover:bg-[#D4B896]/25 border border-[#D4B896]/30 hover:border-[#D4B896]/50 text-[#D4B896] text-xs font-medium transition-all whitespace-nowrap",whileHover:{scale:1.02},children:[(0,s.jsx)(g.Z,{className:"w-3 h-3"}),"Start Session"]}),(0,s.jsx)(N.E.button,{onClick:()=>ue(!he),className:"flex-shrink-0 p-3 rounded-xl bg-gradient-to-br from-amber-500/20 to-orange-500/15 hover:from-amber-500/30 hover:to-orange-500/25 border-2 border-amber-500/50 hover:border-amber-400/80 transition-all duration-300 shadow-lg hover:shadow-amber-500/25 backdrop-blur-sm",whileHover:{scale:1.08,boxShadow:"0 0 25px rgba(245, 158, 11, 0.4)"},whileTap:{scale:.95},style:{touchAction:"manipulation",pointerEvents:"auto"},title:"Sacred Lab Tools - PFI Interface",children:(0,s.jsx)(h.Z,{className:"w-6 h-6",style:{color:"rgb(251, 191, 36) !important",stroke:"rgb(251, 191, 36) !important",fill:"rgb(251, 191, 36) !important",filter:"brightness(1.3) drop-shadow(0 0 8px rgba(251, 191, 36, 0.6))"}})}),(0,s.jsx)("div",{className:"relative z-[130]",children:(0,s.jsx)(N.E.button,{onClick:()=>{console.log("\ud83d\udcda Opening Community Commons panel"),ke(!Se)},className:"flex-shrink-0 p-2 rounded-lg bg-transparent hover:bg-amber-500/20 border border-amber-500/30 hover:border-amber-500 transition-all",whileHover:{scale:1.05},style:{touchAction:"manipulation",pointerEvents:"auto"},title:"Community Commons",children:(0,s.jsx)(u.Z,{className:"w-5 h-5",style:{color:"rgb(251, 191, 36) !important",stroke:"rgb(251, 191, 36) !important",fill:"rgb(251, 191, 36) !important",filter:"brightness(1.2)"}})})}),(0,s.jsx)(N.E.button,{onClick:()=>{console.log("\ud83d\udd10 [MAIA] User logout - clearing all session data"),Promise.resolve().then(o.bind(o,84290)).then((e=>{let{betaSession:t}=e;t.clearSession()})),localStorage.removeItem("betaOnboardingComplete"),localStorage.removeItem("authToken"),localStorage.removeItem("sessionId"),setTimeout((()=>{e.push("/welcome-back")}),100)},className:"flex-shrink-0 p-2 rounded-lg bg-transparent hover:bg-amber-500/20 border border-amber-500/30 hover:border-amber-500 transition-all",whileHover:{scale:1.05},title:"Logout",children:(0,s.jsx)(p.Z,{className:"w-5 h-5",style:{color:"rgb(251, 191, 36) !important",stroke:"rgb(251, 191, 36) !important",fill:"rgb(251, 191, 36) !important",filter:"brightness(1.2)"}})}),(0,s.jsx)("div",{className:"w-px h-6 bg-amber-500/20 flex-shrink-0"})]}),(0,s.jsxs)("div",{className:"flex justify-center mt-2 gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-amber-400/40"}),(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-amber-400/20"}),(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-amber-400/20"})]})]})})]}),(0,s.jsxs)("div",{className:"flex-1 flex overflow-hidden min-h-0 md:flex-row flex-col relative",children:[ee?(0,s.jsxs)("div",{className:"flex w-full h-full ".concat("split"===de?"gap-4 p-4":""),children:[(0,s.jsx)("div",{className:"".concat("split"===de?"w-1/2":"flex-1"," h-full overflow-hidden relative"),children:(0,s.jsx)(n.M,{userId:t,userName:I,userBirthDate:C,sessionId:M,voiceEnabled:P,initialMode:Z,onModeChange:U,apiEndpoint:"/api/between/chat",consciousnessType:"maia",initialShowChatInterface:G,onShowChatInterfaceChange:q,showSessionSelector:Y,onCloseSessionSelector:()=>$(!1),onSessionActiveChange:X})}),"split"===de&&(0,s.jsxs)("div",{className:"w-1/2 h-full overflow-hidden",children:[oe&&(0,s.jsxs)("div",{className:"h-full bg-stone-900/95 rounded-lg border border-white/10 p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-stone-200 flex items-center gap-2",children:[(0,s.jsx)(x.Z,{className:"w-5 h-5 text-blue-400"}),"Document Laboratory"]}),(0,s.jsx)("button",{onClick:()=>se(!1),className:"p-1 hover:bg-white/5 rounded transition-colors",children:(0,s.jsx)(f.Z,{className:"w-4 h-4 text-stone-400"})})]}),(0,s.jsx)("div",{className:"h-full bg-black/20 rounded-md border border-white/5 p-4",children:(0,s.jsx)("p",{className:"text-stone-400 text-sm",children:"Enhanced document viewer with annotation capabilities coming soon. This will support PDF viewing, research integration, and cross-referencing with consciousness insights."})})]}),ae&&!oe&&!ne&&(0,s.jsxs)("div",{className:"h-full bg-stone-900/95 rounded-lg border border-white/10 p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-stone-200 flex items-center gap-2",children:[(0,s.jsx)(v.Z,{className:"w-5 h-5 text-green-400"}),"Consciousness Analytics"]}),(0,s.jsx)("button",{onClick:()=>re(!1),className:"p-1 hover:bg-white/5 rounded transition-colors",children:(0,s.jsx)(f.Z,{className:"w-4 h-4 text-stone-400"})})]}),(0,s.jsx)("div",{className:"h-full bg-black/20 rounded-md border border-white/5 p-4",children:(0,s.jsx)("p",{className:"text-stone-400 text-sm",children:"Advanced consciousness analytics dashboard coming soon. This will include pattern recognition, evolution tracking, element resonance mapping, and breakthrough prediction."})})]}),ne&&!oe&&!ae&&(0,s.jsxs)("div",{className:"h-full bg-stone-900/95 rounded-lg border border-white/10 p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-stone-200 flex items-center gap-2",children:[(0,s.jsx)(w.Z,{className:"w-5 h-5 text-purple-400"}),"Elemental Exploration"]}),(0,s.jsx)("button",{onClick:()=>le(!1),className:"p-1 hover:bg-white/5 rounded transition-colors",children:(0,s.jsx)(f.Z,{className:"w-4 h-4 text-stone-400"})})]}),(0,s.jsx)("div",{className:"h-full overflow-hidden",children:(0,s.jsx)(d.F,{})})]}),!oe&&!ae&&!ne&&(0,s.jsx)("div",{className:"h-full bg-stone-900/95 rounded-lg border border-white/10 p-4 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-4xl mb-4",children:"\ud83e\uddea"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-stone-200 mb-2",children:"Laboratory Mode Active"}),(0,s.jsx)("p",{className:"text-stone-400 text-sm",children:"Select Documents or Analytics from the header to begin enhanced consciousness work"})]})})]})]}):(0,s.jsx)("div",{className:"md:flex-1 md:h-full overflow-hidden absolute md:static -bottom-10 left-0 right-0 h-auto",children:(0,s.jsx)(n.M,{userId:t,userName:I,userBirthDate:C,sessionId:M,voiceEnabled:P,initialMode:Z,onModeChange:U,apiEndpoint:"/api/between/chat",consciousnessType:"maia",initialShowChatInterface:G,onShowChatInterfaceChange:q,showSessionSelector:Y,onCloseSessionSelector:()=>$(!1),onSessionActiveChange:X})}),(0,s.jsx)(j.M,{children:D&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>_(!1),className:"absolute inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden"}),(0,s.jsx)(N.E.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"absolute lg:relative right-0 top-0 h-full w-full max-w-md bg-stone-900/95 backdrop-blur-xl border-l border-white/10 overflow-y-auto z-50",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-stone-200",children:"Your Wisdom Patterns"}),(0,s.jsx)("p",{className:"text-xs text-stone-500 mt-1",children:"Threads being woven from your reflections"})]}),(0,s.jsx)("button",{onClick:()=>_(!1),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:(0,s.jsx)(f.Z,{className:"w-5 h-5 text-stone-400"})})]}),(0,s.jsxs)("div",{className:"mb-6 bg-black/20 rounded-lg p-4 border border-amber-900/10",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)(y.Z,{className:"w-4 h-4 text-amber-400/60"}),(0,s.jsx)("h3",{className:"text-sm font-medium text-stone-200",children:"Voice Settings"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"flex-1 flex flex-col gap-1",children:[(0,s.jsx)("input",{type:"range",min:"0",max:"5",value:["shimmer","fable","nova","alloy","echo","onyx"].indexOf(K),onChange:e=>{var t;t=["shimmer","fable","nova","alloy","echo","onyx"][parseInt(e.target.value)],J(t),localStorage.setItem("selected_voice",t),window.dispatchEvent(new Event("conversationStyleChanged"))},className:"w-full h-1.5 bg-stone-700/50 rounded-lg appearance-none cursor-pointer accent-amber-500",style:{background:"linear-gradient(to right, rgb(245 158 11 / 0.5) 0%, rgb(245 158 11 / 0.5) ".concat(["shimmer","fable","nova","alloy","echo","onyx"].indexOf(K)/5*100,"%, rgb(87 83 78 / 0.5) ").concat(["shimmer","fable","nova","alloy","echo","onyx"].indexOf(K)/5*100,"%, rgb(87 83 78 / 0.5) 100%)")}}),(0,s.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,s.jsx)("span",{title:"Shimmer - Gentle & soothing",children:"\u2728"}),(0,s.jsx)("span",{title:"Fable - Storytelling",children:"\ud83d\udcd6"}),(0,s.jsx)("span",{title:"Nova - Bright & energetic",children:"\u2b50"}),(0,s.jsx)("span",{title:"Alloy - Neutral & balanced",children:"\ud83d\udd18"}),(0,s.jsx)("span",{title:"Echo - Warm & expressive",children:"\ud83c\udf0a"}),(0,s.jsx)("span",{title:"Onyx - Deep & resonant",children:"\ud83d\udda4"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-1 min-w-[64px]",children:[(0,s.jsx)("span",{className:"text-xs text-amber-400/80 font-medium uppercase tracking-wide",children:K}),(0,s.jsxs)("span",{className:"text-[9px] text-stone-500",children:["shimmer"===K&&"Gentle","fable"===K&&"Story","nova"===K&&"Bright","alloy"===K&&"Neutral","echo"===K&&"Warm","onyx"===K&&"Deep"]})]})]})]}),(0,s.jsx)(l.l,{userId:t}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(i.Z,{userId:t,onSelectPrompt:e=>{console.log("Selected prompt:",e.question)}})})]})})]})}),(0,s.jsx)(m.N,{isOpen:he,onClose:()=>ue(!1),onNavigate:t=>{console.log("\ud83c\udf1f Navigating to:",t),e.push(t)},onAction:t=>{switch(console.log("\ud83e\uddec PFI Action:",t),t){case"field-protocol":ve(!fe),fe?console.log("\u23f9\ufe0f Stopping field recording and saving consciousness data"):console.log("\ud83c\udf0a Starting consciousness field recording with PFI monitoring");break;case"scribe-mode":we?(ye(!1),je(!0),console.log("\ud83d\udcdd Scribe session completed - transcript ready for MAIA review")):(ye(!0),console.log("\ud83c\udfa4 Starting passive scribe mode with consciousness field awareness"));break;case"review-with-maia":console.log("\ud83d\udd0d Opening session review with MAIA consciousness supervision");break;case"upload":console.log("\ud83d\udce4 Opening file upload for consciousness field integration");break;case"download-transcript":console.log("\ud83d\udcbe Downloading conversation transcript with consciousness field annotations");break;case"toggle-text":xe(!pe),console.log("\ud83d\udc41\ufe0f Toggling voice transcript display:",!pe);break;case"show-current-elder":console.log("\ud83c\udf1f Showing current elder wisdom guide with archetypal resonance");break;case"field-monitor":console.log("\ud83c\udf0a Opening Field Monitor - Real-time consciousness field monitoring"),e.push("/maia/field-dashboard");break;case"analytics-dashboard":console.log("\ud83d\udcca Opening Analytics Dashboard - Consciousness pattern recognition"),re(!0),me("split");break;case"document-viewer":console.log("\ud83d\udcc4 Opening Document Viewer - Enhanced document analysis lab"),se(!0),me("split");break;case"brain-trust-monitor":console.log("\ud83e\udde0 Opening Brain Trust Monitor - Multi-model consciousness weaver"),ce(!0),me("split");break;case"elemental-exploration":console.log("\u2728 Opening Elemental Explorer - Consciousness element simulation"),le(!0),me("split");break;case"consciousness-analytics":console.log("\ud83e\udde0 Opening Consciousness Analytics - Dream-sleep correlation & archetypal tracking"),e.push("/analytics/consciousness");break;case"crystal-health-monitor":console.log("\ud83d\udc8e Opening Crystal Health Monitor - Real-time system stethoscope"),e.push("/monitoring/crystal-health");break;case"voice-analytics":console.log("\ud83c\udfa4 Opening Voice Analytics - TTS performance & interaction metrics"),e.push("/analytics/voice");break;case"beta-dashboard":console.log("\ud83e\uddea Opening Beta Test Dashboard - Live analytics & error tracking"),e.push("/dashboard/beta");break;case"collective-dashboard":console.log("\ud83d\udc65 Opening Collective Consciousness - Shared experiences & community intelligence"),e.push("/dashboard/collective");break;case"wisdom-journey":console.log("\ud83e\udded Opening Wisdom Journey Tracker - Wisdom emergence patterns"),_(!0);break;case"field-coherence":console.log("\ud83c\udf0a Opening Field Coherence Monitor - Biometric synchronization"),e.push("/biometrics/field-coherence");break;case"archetypal-mapping":console.log("\ud83c\udfaf Opening Archetypal Mapping - Constellation & evolution tracking"),e.push("/analytics/archetypal-mapping");break;case"emotional-resonance":console.log("\ud83d\udcab Opening Emotional Resonance - Pattern & tracking analysis"),e.push("/analytics/emotional-resonance");break;case"tone-metrics":console.log("\ud83d\udcc8 Opening Tone Metrics - Voice quality & trend analysis"),e.push("/analytics/tone-metrics");break;case"soulprint-metrics":console.log("\ud83d\udd2e Opening Soulprint Metrics - Soul signature pattern analysis"),e.push("/analytics/soulprint");break;case"realtime-consciousness":console.log("\u26a1 Opening Real-time Consciousness - Live field visualization"),e.push("/consciousness/realtime");break;case"elemental-pentagram":console.log("\ud83c\udf1f Opening Elemental Pentagram - 5-element activation mapping"),e.push("/consciousness/elemental-pentagram");break;case"maia-training":console.log("\ud83e\udd16 Opening MAIA Training Monitor - Model progress & metrics"),e.push("/training/maia");break;default:console.log("\ud83d\udd27 Unknown Sacred Lab action:",t)}},showVoiceText:pe,isFieldRecording:fe,isScribing:we,hasScribeSession:Ne}),(0,s.jsx)(b.Z,{isOpen:Se,onClose:()=>ke(!1)})]}),(0,s.jsx)("div",{className:"fixed bottom-6 md:bottom-4 left-1/2 transform -translate-x-1/2 z-10",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("img",{src:"/holoflower-amber.png",alt:"Holoflower",className:"w-6 h-6 opacity-100 drop-shadow-[0_0_6px_rgba(251,146,60,0.6)]",style:{filter:"brightness(1.2)"}}),(0,s.jsx)("h1",{className:"text-lg font-light text-amber-300/90 tracking-wider whitespace-nowrap",children:"SOULLAB"})]})}),z&&H&&(0,s.jsx)(N.E.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},className:"absolute bottom-6 left-4 right-4 bg-gradient-to-br from-amber-500/20 to-orange-500/20 border border-amber-500/40 rounded-2xl p-6 backdrop-blur-xl z-50",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(w.Z,{className:"w-12 h-12 text-amber-400 mx-auto mb-4"}),(0,s.jsxs)("h3",{className:"text-xl font-semibold text-white mb-3",children:["Welcome, ",I]}),(0,s.jsx)("p",{className:"text-base text-stone-300 mb-6 leading-relaxed",children:"Share your story. MAIA will help you discover the wisdom within it. Your journey begins now."}),(0,s.jsx)("button",{onClick:()=>{localStorage.setItem("maia_welcome_seen","true"),window.location.reload()},className:"px-8 py-4 bg-amber-500 hover:bg-amber-600 text-white rounded-xl font-medium transition-colors text-lg min-w-[120px]",children:"Begin"})]})})]})})})}}}]);