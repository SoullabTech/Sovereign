"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3380],{42488:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},56454:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]])},71769:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},64972:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]])},96215:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},30401:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},10407:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},69317:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},78867:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},98617:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},92735:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},93609:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]])},87769:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},32101:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("feather",[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]])},76399:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("flame",[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]])},38220:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("flask-conical",[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]])},40476:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]])},88997:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},61392:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]])},28124:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]])},66949:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]])},47692:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},52048:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]])},11:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]])},60730:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("mic-off",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]])},48662:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]])},99897:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])},47737:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]])},76980:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]])},46506:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]])},33276:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},99397:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},55287:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("radio",[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},69076:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},83229:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},98728:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},58896:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},70525:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},92369:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},81706:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]])},88623:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]])},94394:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]])},75395:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},62926:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]])},62973:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]])},11239:function(e,t,n){n.d(t,{Z:function(){return s}});const s=(0,n(79205).Z)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},85498:function(e,t,n){function s(e,t,n,s,r){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?r.call(e,n):r?r.value=n:t.set(e,n),n}function r(e,t,n,s){if("a"===n&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?s:"a"===n?s.call(e):s?s.value:t.get(e)}n.d(t,{ZP:function(){return zt}});let a=function(){const{crypto:e}=globalThis;if(e?.randomUUID)return a=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>(+e^n()&15>>+e/4).toString(16)))};function o(e){return"object"===typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const i=e=>{if(e instanceof Error)return e;if("object"===typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class c extends Error{}class l extends c{constructor(e,t,n,s){super(`${l.makeMessage(e,t,n)}`),this.status=e,this.headers=s,this.requestID=s?.get("request-id"),this.error=t}static makeMessage(e,t,n){const s=t?.message?"string"===typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,t,n,s){if(!e||!s)return new u({message:n,cause:i(t)});const r=t;return 400===e?new f(e,r,n,s):401===e?new p(e,r,n,s):403===e?new y(e,r,n,s):404===e?new g(e,r,n,s):409===e?new m(e,r,n,s):422===e?new b(e,r,n,s):429===e?new w(e,r,n,s):e>=500?new k(e,r,n,s):new l(e,r,n,s)}}class h extends l{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class u extends l{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class d extends u{constructor({message:e}={}){super({message:e??"Request timed out."})}}class f extends l{}class p extends l{}class y extends l{}class g extends l{}class m extends l{}class b extends l{}class w extends l{}class k extends l{}const v=/^[a-z][a-z0-9+.-]*:/i;let _=e=>(_=Array.isArray,_(e)),M=_;function x(e){return"object"!==typeof e?{}:e??{}}const S=e=>{try{return JSON.parse(e)}catch(t){return}},R="0.61.0";const A=()=>{const e="undefined"!==typeof Deno&&null!=Deno.build?"deno":"undefined"!==typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call("undefined"!==typeof globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":R,"X-Stainless-OS":O(Deno.build.os),"X-Stainless-Arch":q(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"===typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!==typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":R,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":R,"X-Stainless-OS":O(globalThis.process.platform??"unknown"),"X-Stainless-Arch":q(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=function(){if("undefined"===typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":R,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":R,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const q=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",O=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let P;function $(...e){const t=globalThis.ReadableStream;if("undefined"===typeof t)throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function j(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return $({start(){},async pull(e){const{done:n,value:s}=await t.next();n?e.close():e.enqueue(s)},async cancel(){await(t.return?.())}})}function T(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const Z=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});let L,E;function I(e){let t;return(L??(t=new globalThis.TextEncoder,L=t.encode.bind(t)))(e)}function N(e){let t;return(E??(t=new globalThis.TextDecoder,E=t.decode.bind(t)))(e)}var U,W;class H{constructor(){U.set(this,void 0),W.set(this,void 0),s(this,U,new Uint8Array,"f"),s(this,W,null,"f")}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"===typeof e?I(e):e;s(this,U,function(e){let t=0;for(const r of e)t+=r.length;const n=new Uint8Array(t);let s=0;for(const r of e)n.set(r,s),s+=r.length;return n}([r(this,U,"f"),t]),"f");const n=[];let a;for(;null!=(a=C(r(this,U,"f"),r(this,W,"f")));){if(a.carriage&&null==r(this,W,"f")){s(this,W,a.index,"f");continue}if(null!=r(this,W,"f")&&(a.index!==r(this,W,"f")+1||a.carriage)){n.push(N(r(this,U,"f").subarray(0,r(this,W,"f")-1))),s(this,U,r(this,U,"f").subarray(r(this,W,"f")),"f"),s(this,W,null,"f");continue}const e=null!==r(this,W,"f")?a.preceding-1:a.preceding,t=N(r(this,U,"f").subarray(0,e));n.push(t),s(this,U,r(this,U,"f").subarray(a.index),"f"),s(this,W,null,"f")}return n}flush(){return r(this,U,"f").length?this.decode("\n"):[]}}function C(e,t){for(let n=t??0;n<e.length;n++){if(10===e[n])return{preceding:n,index:n+1,carriage:!1};if(13===e[n])return{preceding:n,index:n+1,carriage:!0}}return null}function D(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}U=new WeakMap,W=new WeakMap,H.NEWLINE_CHARS=new Set(["\n","\r"]),H.NEWLINE_REGEXP=/\r\n|[\n\r]/g;const z={off:0,error:200,warn:300,info:400,debug:500},V=(e,t,n)=>{var s,r;if(e)return s=z,r=e,Object.prototype.hasOwnProperty.call(s,r)?e:void K(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(z))}`)};function X(){}function B(e,t,n){return!t||z[e]>z[n]?X:t[e].bind(t)}const J={error:X,warn:X,info:X,debug:X};let F=new WeakMap;function K(e){const t=e.logger,n=e.logLevel??"off";if(!t)return J;const s=F.get(t);if(s&&s[0]===n)return s[1];const r={error:B("error",t,n),warn:B("warn",t,n),info:B("info",t,n),debug:B("debug",t,n)};return F.set(t,[n,r]),r}const G=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map((([e,t])=>[e,"x-api-key"===e.toLowerCase()||"authorization"===e.toLowerCase()||"cookie"===e.toLowerCase()||"set-cookie"===e.toLowerCase()?"***":t])))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var Q,Y,ee;class te{constructor(e,t,n){this.iterator=e,Q.set(this,void 0),this.controller=t,s(this,Q,n,"f")}static fromSSEResponse(e,t,n){let s=!1;const r=n?K(n):console;return new te((async function*(){if(s)throw new c("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let n=!1;try{for await(const n of async function*(e,t){if(!e.body){if(t.abort(),"undefined"!==typeof globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new c("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new c("Attempted to iterate over a response with no body")}const n=new ne,s=new H,r=T(e.body);for await(const a of async function*(e){let t=new Uint8Array;for await(const n of e){if(null==n)continue;const e=n instanceof ArrayBuffer?new Uint8Array(n):"string"===typeof n?I(n):n;let s,r=new Uint8Array(t.length+e.length);for(r.set(t),r.set(e,t.length),t=r;-1!==(s=D(t));)yield t.slice(0,s),t=t.slice(s)}t.length>0&&(yield t)}(r))for(const e of s.decode(a)){const t=n.decode(e);t&&(yield t)}for(const a of s.flush()){const e=n.decode(a);e&&(yield e)}}(e,t)){if("completion"===n.event)try{yield JSON.parse(n.data)}catch(a){throw r.error("Could not parse message into JSON:",n.data),r.error("From chunk:",n.raw),a}if("message_start"===n.event||"message_delta"===n.event||"message_stop"===n.event||"content_block_start"===n.event||"content_block_delta"===n.event||"content_block_stop"===n.event)try{yield JSON.parse(n.data)}catch(a){throw r.error("Could not parse message into JSON:",n.data),r.error("From chunk:",n.raw),a}if("ping"!==n.event&&"error"===n.event)throw new l(void 0,S(n.data)??n.data,void 0,e.headers)}n=!0}catch(a){if(o(a))return;throw a}finally{n||t.abort()}}),t,n)}static fromReadableStream(e,t,n){let s=!1;return new te((async function*(){if(s)throw new c("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let n=!1;try{for await(const t of async function*(){const t=new H,n=T(e);for await(const e of n)for(const n of t.decode(e))yield n;for(const e of t.flush())yield e}())n||t&&(yield JSON.parse(t));n=!0}catch(r){if(o(r))return;throw r}finally{n||t.abort()}}),t,n)}[(Q=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),s=s=>({next:()=>{if(0===s.length){const s=n.next();e.push(s),t.push(s)}return s.shift()}});return[new te((()=>s(e)),this.controller,r(this,Q,"f")),new te((()=>s(t)),this.controller,r(this,Q,"f"))]}toReadableStream(){const e=this;let t;return $({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:n,done:s}=await t.next();if(s)return e.close();const r=I(JSON.stringify(n)+"\n");e.enqueue(r)}catch(n){e.error(n)}},async cancel(){await(t.return?.())}})}}class ne{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,s]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}(e,":");return s.startsWith(" ")&&(s=s.substring(1)),"event"===t?this.event=s:"data"===t&&this.data.push(s),null}}async function se(e,t){const{response:n,requestLogID:s,retryOfRequestLogID:r,startTime:a}=t,o=await(async()=>{if(t.options.stream)return K(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller):te.fromSSEResponse(n,t.controller);if(204===n.status)return null;if(t.options.__binaryResponse)return n;const s=n.headers.get("content-type"),r=s?.split(";")[0]?.trim();if(r?.includes("application/json")||r?.endsWith("+json")){return re(await n.json(),n)}return await n.text()})();return K(e).debug(`[${s}] response parsed`,G({retryOfRequestLogID:r,url:n.url,status:n.status,body:o,durationMs:Date.now()-a})),o}function re(e,t){return!e||"object"!==typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("request-id"),enumerable:!1})}class ae extends Promise{constructor(e,t,n=se){super((e=>{e(null)})),this.responsePromise=t,this.parseResponse=n,Y.set(this,void 0),s(this,Y,e,"f")}_thenUnwrap(e){return new ae(r(this,Y,"f"),this.responsePromise,(async(t,n)=>re(e(await this.parseResponse(t,n),n),n.response)))}asResponse(){return this.responsePromise.then((e=>e.response))}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then((e=>this.parseResponse(r(this,Y,"f"),e)))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}Y=new WeakMap;class oe{constructor(e,t,n,r){ee.set(this,void 0),s(this,ee,e,"f"),this.options=r,this.response=t,this.body=n}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageRequestOptions()}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new c("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await r(this,ee,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(ee=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class ie extends ae{constructor(e,t,n){super(e,t,(async(e,t)=>new n(e,t.response,await se(e,t),t.options)))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}class ce extends oe{constructor(e,t,n,s){super(e,t,n,s),this.data=n.data||[],this.has_more=n.has_more||!1,this.first_id=n.first_id||null,this.last_id=n.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageRequestOptions(){if(this.options.query?.before_id){const e=this.first_id;return e?{...this.options,query:{...x(this.options.query),before_id:e}}:null}const e=this.last_id;return e?{...this.options,query:{...x(this.options.query),after_id:e}}:null}}const le=()=>{if("undefined"===typeof File){const{process:e}=globalThis,t="string"===typeof e?.versions?.node&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function he(e,t,n){return le(),new File(e,t??"unknown_file",n)}function ue(e){return("object"===typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const de=e=>null!=e&&"object"===typeof e&&"function"===typeof e[Symbol.asyncIterator],fe=new WeakMap;const pe=async(e,t)=>{if(!(await function(e){const t="function"===typeof e?e:e.fetch,n=fe.get(t);if(n)return n;const s=(async()=>{try{const e="Response"in t?t.Response:(await t("data:,")).constructor,n=new FormData;return n.toString()!==await new e(n).text()}catch{return!0}})();return fe.set(t,s),s}(t)))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(e||{}).map((([e,t])=>ge(n,e,t)))),n},ye=e=>e instanceof Blob&&"name"in e,ge=async(e,t,n)=>{if(void 0!==n){if(null==n)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)e.append(t,String(n));else if(n instanceof Response){let s={};const r=n.headers.get("Content-Type");r&&(s={type:r}),e.append(t,he([await n.blob()],ue(n),s))}else if(de(n))e.append(t,he([await new Response(j(n)).blob()],ue(n)));else if(ye(n))e.append(t,he([n],ue(n),{type:n.type}));else if(Array.isArray(n))await Promise.all(n.map((n=>ge(e,t+"[]",n))));else{if("object"!==typeof n)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`);await Promise.all(Object.entries(n).map((([n,s])=>ge(e,`${t}[${n}]`,s))))}}},me=e=>null!=e&&"object"===typeof e&&"number"===typeof e.size&&"string"===typeof e.type&&"function"===typeof e.text&&"function"===typeof e.slice&&"function"===typeof e.arrayBuffer;async function be(e){let t=[];if("string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(me(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else{if(!de(e)){const t=e?.constructor?.name;throw new Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:""}${function(e){if("object"!==typeof e||null===e)return"";const t=Object.getOwnPropertyNames(e);return`; props: [${t.map((e=>`"${e}"`)).join(", ")}]`}(e)}`)}for await(const n of e)t.push(...await be(n))}return t}class we{constructor(e){this._client=e}}const ke=Symbol.for("brand.privateNullableHeaders");function*ve(e){if(!e)return;if(ke in e){const{values:t,nulls:n}=e;yield*t.entries();for(const e of n)yield[e,null];return}let t,n=!1;e instanceof Headers?t=e.entries():M(e)?t=e:(n=!0,t=Object.entries(e??{}));for(let s of t){const e=s[0];if("string"!==typeof e)throw new TypeError("expected header name to be a string");const t=M(s[1])?s[1]:[s[1]];let r=!1;for(const s of t)void 0!==s&&(n&&!r&&(r=!0,yield[e,null]),yield[e,s])}}const _e=e=>{const t=new Headers,n=new Set;for(const s of e){const e=new Set;for(const[r,a]of ve(s)){const s=r.toLowerCase();e.has(s)||(t.delete(r),e.add(s)),null===a?(t.delete(r),n.add(s)):(t.append(r,a),n.delete(s))}}return{[ke]:!0,values:t,nulls:n}};function Me(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const xe=Object.freeze(Object.create(null)),Se=(e=Me)=>function(t,...n){if(1===t.length)return t[0];let s=!1;const r=[],a=t.reduce(((t,a,o)=>{/[?#]/.test(a)&&(s=!0);const i=n[o];let c=(s?encodeURIComponent:e)(""+i);return o!==n.length&&(null==i||"object"===typeof i&&i.toString===Object.getPrototypeOf(Object.getPrototypeOf(i.hasOwnProperty??xe)??xe)?.toString)&&(c=i+"",r.push({start:t.length+a.length,length:c.length,error:`Value of type ${Object.prototype.toString.call(i).slice(8,-1)} is not a valid path parameter`})),t+a+(o===n.length?"":c)}),""),o=a.split(/[?#]/,1)[0],i=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;let l;for(;null!==(l=i.exec(o));)r.push({start:l.index,length:l[0].length,error:`Value "${l[0]}" can't be safely passed as a path parameter`});if(r.sort(((e,t)=>e.start-t.start)),r.length>0){let e=0;const t=r.reduce(((t,n)=>{const s=" ".repeat(n.start-e),r="^".repeat(n.length);return e=n.start+n.length,t+s+r}),"");throw new c(`Path parameters result in path with invalid segments:\n${r.map((e=>e.error)).join("\n")}\n${a}\n${t}`)}return a},Re=Se(Me);class Ae extends we{list(e={},t){const{betas:n,...s}=e??{};return this._client.getAPIList("/v1/files",ce,{query:s,...t,headers:_e([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString()},t?.headers])})}delete(e,t={},n){const{betas:s}=t??{};return this._client.delete(Re`/v1/files/${e}`,{...n,headers:_e([{"anthropic-beta":[...s??[],"files-api-2025-04-14"].toString()},n?.headers])})}download(e,t={},n){const{betas:s}=t??{};return this._client.get(Re`/v1/files/${e}/content`,{...n,headers:_e([{"anthropic-beta":[...s??[],"files-api-2025-04-14"].toString(),Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}retrieveMetadata(e,t={},n){const{betas:s}=t??{};return this._client.get(Re`/v1/files/${e}`,{...n,headers:_e([{"anthropic-beta":[...s??[],"files-api-2025-04-14"].toString()},n?.headers])})}upload(e,t){const{betas:n,...s}=e;return this._client.post("/v1/files",(async(e,t)=>({...e,body:await pe(e.body,t)}))({body:s,...t,headers:_e([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString()},t?.headers])},this._client))}}class qe extends we{retrieve(e,t={},n){const{betas:s}=t??{};return this._client.get(Re`/v1/models/${e}?beta=true`,{...n,headers:_e([{...null!=s?.toString()?{"anthropic-beta":s?.toString()}:void 0},n?.headers])})}list(e={},t){const{betas:n,...s}=e??{};return this._client.getAPIList("/v1/models?beta=true",ce,{query:s,...t,headers:_e([{...null!=n?.toString()?{"anthropic-beta":n?.toString()}:void 0},t?.headers])})}}class Oe{constructor(e,t){this.iterator=e,this.controller=t}async*decoder(){const e=new H;for await(const t of this.iterator)for(const n of e.decode(t))yield JSON.parse(n);for(const t of e.flush())yield JSON.parse(t)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(e,t){if(!e.body){if(t.abort(),"undefined"!==typeof globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new c("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new c("Attempted to iterate over a response with no body")}return new Oe(T(e.body),t)}}class Pe extends we{create(e,t){const{betas:n,...s}=e;return this._client.post("/v1/messages/batches?beta=true",{body:s,...t,headers:_e([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},t?.headers])})}retrieve(e,t={},n){const{betas:s}=t??{};return this._client.get(Re`/v1/messages/batches/${e}?beta=true`,{...n,headers:_e([{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString()},n?.headers])})}list(e={},t){const{betas:n,...s}=e??{};return this._client.getAPIList("/v1/messages/batches?beta=true",ce,{query:s,...t,headers:_e([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},t?.headers])})}delete(e,t={},n){const{betas:s}=t??{};return this._client.delete(Re`/v1/messages/batches/${e}?beta=true`,{...n,headers:_e([{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString()},n?.headers])})}cancel(e,t={},n){const{betas:s}=t??{};return this._client.post(Re`/v1/messages/batches/${e}/cancel?beta=true`,{...n,headers:_e([{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString()},n?.headers])})}async results(e,t={},n){const s=await this.retrieve(e);if(!s.results_url)throw new c(`No batch \`results_url\`; Has it finished processing? ${s.processing_status} - ${s.id}`);const{betas:r}=t??{};return this._client.get(s.results_url,{...n,headers:_e([{"anthropic-beta":[...r??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary"},n?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap(((e,t)=>Oe.fromResponse(t.response,t.controller)))}}const $e=e=>{if(0===e.length)return e;let t=e[e.length-1];switch(t.type){case"separator":return e=e.slice(0,e.length-1),$e(e);case"number":let n=t.value[t.value.length-1];if("."===n||"-"===n)return e=e.slice(0,e.length-1),$e(e);case"string":let s=e[e.length-2];if("delimiter"===s?.type)return e=e.slice(0,e.length-1),$e(e);if("brace"===s?.type&&"{"===s.value)return e=e.slice(0,e.length-1),$e(e);break;case"delimiter":return e=e.slice(0,e.length-1),$e(e)}return e},je=e=>JSON.parse((e=>{let t="";return e.map((e=>{"string"===e.type?t+='"'+e.value+'"':t+=e.value})),t})((e=>{let t=[];return e.map((e=>{"brace"===e.type&&("{"===e.value?t.push("}"):t.splice(t.lastIndexOf("}"),1)),"paren"===e.type&&("["===e.value?t.push("]"):t.splice(t.lastIndexOf("]"),1))})),t.length>0&&t.reverse().map((t=>{"}"===t?e.push({type:"brace",value:"}"}):"]"===t&&e.push({type:"paren",value:"]"})})),e})($e((e=>{let t=0,n=[];for(;t<e.length;){let s=e[t];if("\\"===s){t++;continue}if("{"===s){n.push({type:"brace",value:"{"}),t++;continue}if("}"===s){n.push({type:"brace",value:"}"}),t++;continue}if("["===s){n.push({type:"paren",value:"["}),t++;continue}if("]"===s){n.push({type:"paren",value:"]"}),t++;continue}if(":"===s){n.push({type:"separator",value:":"}),t++;continue}if(","===s){n.push({type:"delimiter",value:","}),t++;continue}if('"'===s){let r="",a=!1;for(s=e[++t];'"'!==s;){if(t===e.length){a=!0;break}if("\\"===s){if(t++,t===e.length){a=!0;break}r+=s+e[t],s=e[++t]}else r+=s,s=e[++t]}s=e[++t],a||n.push({type:"string",value:r});continue}if(s&&/\s/.test(s)){t++;continue}let r=/[0-9]/;if(s&&r.test(s)||"-"===s||"."===s){let a="";for("-"===s&&(a+=s,s=e[++t]);s&&r.test(s)||"."===s;)a+=s,s=e[++t];n.push({type:"number",value:a});continue}let a=/[a-z]/i;if(s&&a.test(s)){let r="";for(;s&&a.test(s)&&t!==e.length;)r+=s,s=e[++t];if("true"!=r&&"false"!=r&&"null"!==r){t++;continue}n.push({type:"name",value:r})}else t++}return n})(e)))));var Te,Ze,Le,Ee,Ie,Ne,Ue,We,He,Ce,De,ze,Ve,Xe,Be,Je,Fe,Ke,Ge,Qe,Ye,et;const tt="__json_buf";function nt(e){return"tool_use"===e.type||"server_tool_use"===e.type||"mcp_tool_use"===e.type}class st{constructor(){Te.add(this),this.messages=[],this.receivedMessages=[],Ze.set(this,void 0),this.controller=new AbortController,Le.set(this,void 0),Ee.set(this,(()=>{})),Ie.set(this,(()=>{})),Ne.set(this,void 0),Ue.set(this,(()=>{})),We.set(this,(()=>{})),He.set(this,{}),Ce.set(this,!1),De.set(this,!1),ze.set(this,!1),Ve.set(this,!1),Xe.set(this,void 0),Be.set(this,void 0),Ke.set(this,(e=>{if(s(this,De,!0,"f"),o(e)&&(e=new h),e instanceof h)return s(this,ze,!0,"f"),this._emit("abort",e);if(e instanceof c)return this._emit("error",e);if(e instanceof Error){const t=new c(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new c(String(e)))})),s(this,Le,new Promise(((e,t)=>{s(this,Ee,e,"f"),s(this,Ie,t,"f")})),"f"),s(this,Ne,new Promise(((e,t)=>{s(this,Ue,e,"f"),s(this,We,t,"f")})),"f"),r(this,Le,"f").catch((()=>{})),r(this,Ne,"f").catch((()=>{}))}get response(){return r(this,Xe,"f")}get request_id(){return r(this,Be,"f")}async withResponse(){const e=await r(this,Le,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){const t=new st;return t._run((()=>t._fromReadableStream(e))),t}static createMessage(e,t,n){const s=new st;for(const r of t.messages)s._addMessageParam(r);return s._run((()=>s._createMessage(e,{...t,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),s}_run(e){e().then((()=>{this._emitFinal(),this._emit("end")}),r(this,Ke,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,t=!0){this.receivedMessages.push(e),t&&this._emit("message",e)}async _createMessage(e,t,n){const s=n?.signal;let a;s&&(s.aborted&&this.controller.abort(),a=this.controller.abort.bind(this.controller),s.addEventListener("abort",a));try{r(this,Te,"m",Ge).call(this);const{response:s,data:a}=await e.create({...t,stream:!0},{...n,signal:this.controller.signal}).withResponse();this._connected(s);for await(const e of a)r(this,Te,"m",Qe).call(this,e);if(a.controller.signal?.aborted)throw new h;r(this,Te,"m",Ye).call(this)}finally{s&&a&&s.removeEventListener("abort",a)}}_connected(e){this.ended||(s(this,Xe,e,"f"),s(this,Be,e?.headers.get("request-id"),"f"),r(this,Ee,"f").call(this,e),this._emit("connect"))}get ended(){return r(this,Ce,"f")}get errored(){return r(this,De,"f")}get aborted(){return r(this,ze,"f")}abort(){this.controller.abort()}on(e,t){return(r(this,He,"f")[e]||(r(this,He,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=r(this,He,"f")[e];if(!n)return this;const s=n.findIndex((e=>e.listener===t));return s>=0&&n.splice(s,1),this}once(e,t){return(r(this,He,"f")[e]||(r(this,He,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,n)=>{s(this,Ve,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)}))}async done(){s(this,Ve,!0,"f"),await r(this,Ne,"f")}get currentMessage(){return r(this,Ze,"f")}async finalMessage(){return await this.done(),r(this,Te,"m",Je).call(this)}async finalText(){return await this.done(),r(this,Te,"m",Fe).call(this)}_emit(e,...t){if(r(this,Ce,"f"))return;"end"===e&&(s(this,Ce,!0,"f"),r(this,Ue,"f").call(this));const n=r(this,He,"f")[e];if(n&&(r(this,He,"f")[e]=n.filter((e=>!e.once)),n.forEach((({listener:e})=>e(...t)))),"abort"===e){const e=t[0];return r(this,Ve,"f")||n?.length||Promise.reject(e),r(this,Ie,"f").call(this,e),r(this,We,"f").call(this,e),void this._emit("end")}if("error"===e){const e=t[0];r(this,Ve,"f")||n?.length||Promise.reject(e),r(this,Ie,"f").call(this,e),r(this,We,"f").call(this,e),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",r(this,Te,"m",Je).call(this))}async _fromReadableStream(e,t){const n=t?.signal;let s;n&&(n.aborted&&this.controller.abort(),s=this.controller.abort.bind(this.controller),n.addEventListener("abort",s));try{r(this,Te,"m",Ge).call(this),this._connected(null);const t=te.fromReadableStream(e,this.controller);for await(const e of t)r(this,Te,"m",Qe).call(this,e);if(t.controller.signal?.aborted)throw new h;r(this,Te,"m",Ye).call(this)}finally{n&&s&&n.removeEventListener("abort",s)}}[(Ze=new WeakMap,Le=new WeakMap,Ee=new WeakMap,Ie=new WeakMap,Ne=new WeakMap,Ue=new WeakMap,We=new WeakMap,He=new WeakMap,Ce=new WeakMap,De=new WeakMap,ze=new WeakMap,Ve=new WeakMap,Xe=new WeakMap,Be=new WeakMap,Ke=new WeakMap,Te=new WeakSet,Je=function(){if(0===this.receivedMessages.length)throw new c("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},Fe=function(){if(0===this.receivedMessages.length)throw new c("stream ended without producing a Message with role=assistant");const e=this.receivedMessages.at(-1).content.filter((e=>"text"===e.type)).map((e=>e.text));if(0===e.length)throw new c("stream ended without producing a content block with type=text");return e.join(" ")},Ge=function(){this.ended||s(this,Ze,void 0,"f")},Qe=function(e){if(this.ended)return;const t=r(this,Te,"m",et).call(this,e);switch(this._emit("streamEvent",e,t),e.type){case"content_block_delta":{const n=t.content.at(-1);switch(e.delta.type){case"text_delta":"text"===n.type&&this._emit("text",e.delta.text,n.text||"");break;case"citations_delta":"text"===n.type&&this._emit("citation",e.delta.citation,n.citations??[]);break;case"input_json_delta":nt(n)&&n.input&&this._emit("inputJson",e.delta.partial_json,n.input);break;case"thinking_delta":"thinking"===n.type&&this._emit("thinking",e.delta.thinking,n.thinking);break;case"signature_delta":"thinking"===n.type&&this._emit("signature",n.signature);break;default:e.delta}break}case"message_stop":this._addMessageParam(t),this._addMessage(t,!0);break;case"content_block_stop":this._emit("contentBlock",t.content.at(-1));break;case"message_start":s(this,Ze,t,"f")}},Ye=function(){if(this.ended)throw new c("stream has ended, this shouldn't happen");const e=r(this,Ze,"f");if(!e)throw new c("request ended without sending any chunks");return s(this,Ze,void 0,"f"),e},et=function(e){let t=r(this,Ze,"f");if("message_start"===e.type){if(t)throw new c(`Unexpected event order, got ${e.type} before receiving "message_stop"`);return e.message}if(!t)throw new c(`Unexpected event order, got ${e.type} before "message_start"`);switch(e.type){case"message_stop":case"content_block_stop":return t;case"message_delta":return t.container=e.delta.container,t.stop_reason=e.delta.stop_reason,t.stop_sequence=e.delta.stop_sequence,t.usage.output_tokens=e.usage.output_tokens,null!=e.usage.input_tokens&&(t.usage.input_tokens=e.usage.input_tokens),null!=e.usage.cache_creation_input_tokens&&(t.usage.cache_creation_input_tokens=e.usage.cache_creation_input_tokens),null!=e.usage.cache_read_input_tokens&&(t.usage.cache_read_input_tokens=e.usage.cache_read_input_tokens),null!=e.usage.server_tool_use&&(t.usage.server_tool_use=e.usage.server_tool_use),t;case"content_block_start":return t.content.push(e.content_block),t;case"content_block_delta":{const s=t.content.at(e.index);switch(e.delta.type){case"text_delta":"text"===s?.type&&(t.content[e.index]={...s,text:(s.text||"")+e.delta.text});break;case"citations_delta":"text"===s?.type&&(t.content[e.index]={...s,citations:[...s.citations??[],e.delta.citation]});break;case"input_json_delta":if(s&&nt(s)){let a=s[tt]||"";a+=e.delta.partial_json;const o={...s};if(Object.defineProperty(o,tt,{value:a,enumerable:!1,writable:!0}),a)try{o.input=je(a)}catch(n){const e=new c(`Unable to parse tool parameter JSON from model. Please retry your request or adjust your prompt. Error: ${n}. JSON: ${a}`);r(this,Ke,"f").call(this,e)}t.content[e.index]=o}break;case"thinking_delta":"thinking"===s?.type&&(t.content[e.index]={...s,thinking:s.thinking+e.delta.thinking});break;case"signature_delta":"thinking"===s?.type&&(t.content[e.index]={...s,signature:e.delta.signature});break;default:e.delta}return t}}},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("streamEvent",(n=>{const s=t.shift();s?s.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new te(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}const rt={"claude-opus-4-20250514":8192,"claude-opus-4-0":8192,"claude-4-opus-20250514":8192,"anthropic.claude-opus-4-20250514-v1:0":8192,"claude-opus-4@20250514":8192,"claude-opus-4-1-20250805":8192,"anthropic.claude-opus-4-1-20250805-v1:0":8192,"claude-opus-4-1@20250805":8192},at={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-5-sonnet-20241022":"October 22, 2025","claude-3-5-sonnet-20240620":"October 22, 2025"};class ot extends we{constructor(){super(...arguments),this.batches=new Pe(this._client)}create(e,t){const{betas:n,...s}=e;s.model in at&&console.warn(`The model '${s.model}' is deprecated and will reach end-of-life on ${at[s.model]}\nPlease migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let r=this._client._options.timeout;if(!s.stream&&null==r){const e=rt[s.model]??void 0;r=this._client.calculateNonstreamingTimeout(s.max_tokens,e)}return this._client.post("/v1/messages?beta=true",{body:s,timeout:r??6e5,...t,headers:_e([{...null!=n?.toString()?{"anthropic-beta":n?.toString()}:void 0},t?.headers]),stream:e.stream??!1})}stream(e,t){return st.createMessage(this,e,t)}countTokens(e,t){const{betas:n,...s}=e;return this._client.post("/v1/messages/count_tokens?beta=true",{body:s,...t,headers:_e([{"anthropic-beta":[...n??[],"token-counting-2024-11-01"].toString()},t?.headers])})}}ot.Batches=Pe;class it extends we{constructor(){super(...arguments),this.models=new qe(this._client),this.messages=new ot(this._client),this.files=new Ae(this._client)}}it.Models=qe,it.Messages=ot,it.Files=Ae;class ct extends we{create(e,t){const{betas:n,...s}=e;return this._client.post("/v1/complete",{body:s,timeout:this._client._options.timeout??6e5,...t,headers:_e([{...null!=n?.toString()?{"anthropic-beta":n?.toString()}:void 0},t?.headers]),stream:e.stream??!1})}}var lt,ht,ut,dt,ft,pt,yt,gt,mt,bt,wt,kt,vt,_t,Mt,xt,St,Rt,At,qt,Ot,Pt;const $t="__json_buf";function jt(e){return"tool_use"===e.type||"server_tool_use"===e.type}class Tt{constructor(){lt.add(this),this.messages=[],this.receivedMessages=[],ht.set(this,void 0),this.controller=new AbortController,ut.set(this,void 0),dt.set(this,(()=>{})),ft.set(this,(()=>{})),pt.set(this,void 0),yt.set(this,(()=>{})),gt.set(this,(()=>{})),mt.set(this,{}),bt.set(this,!1),wt.set(this,!1),kt.set(this,!1),vt.set(this,!1),_t.set(this,void 0),Mt.set(this,void 0),Rt.set(this,(e=>{if(s(this,wt,!0,"f"),o(e)&&(e=new h),e instanceof h)return s(this,kt,!0,"f"),this._emit("abort",e);if(e instanceof c)return this._emit("error",e);if(e instanceof Error){const t=new c(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new c(String(e)))})),s(this,ut,new Promise(((e,t)=>{s(this,dt,e,"f"),s(this,ft,t,"f")})),"f"),s(this,pt,new Promise(((e,t)=>{s(this,yt,e,"f"),s(this,gt,t,"f")})),"f"),r(this,ut,"f").catch((()=>{})),r(this,pt,"f").catch((()=>{}))}get response(){return r(this,_t,"f")}get request_id(){return r(this,Mt,"f")}async withResponse(){const e=await r(this,ut,"f");if(!e)throw new Error("Could not resolve a `Response` object");return{data:this,response:e,request_id:e.headers.get("request-id")}}static fromReadableStream(e){const t=new Tt;return t._run((()=>t._fromReadableStream(e))),t}static createMessage(e,t,n){const s=new Tt;for(const r of t.messages)s._addMessageParam(r);return s._run((()=>s._createMessage(e,{...t,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),s}_run(e){e().then((()=>{this._emitFinal(),this._emit("end")}),r(this,Rt,"f"))}_addMessageParam(e){this.messages.push(e)}_addMessage(e,t=!0){this.receivedMessages.push(e),t&&this._emit("message",e)}async _createMessage(e,t,n){const s=n?.signal;let a;s&&(s.aborted&&this.controller.abort(),a=this.controller.abort.bind(this.controller),s.addEventListener("abort",a));try{r(this,lt,"m",At).call(this);const{response:s,data:a}=await e.create({...t,stream:!0},{...n,signal:this.controller.signal}).withResponse();this._connected(s);for await(const e of a)r(this,lt,"m",qt).call(this,e);if(a.controller.signal?.aborted)throw new h;r(this,lt,"m",Ot).call(this)}finally{s&&a&&s.removeEventListener("abort",a)}}_connected(e){this.ended||(s(this,_t,e,"f"),s(this,Mt,e?.headers.get("request-id"),"f"),r(this,dt,"f").call(this,e),this._emit("connect"))}get ended(){return r(this,bt,"f")}get errored(){return r(this,wt,"f")}get aborted(){return r(this,kt,"f")}abort(){this.controller.abort()}on(e,t){return(r(this,mt,"f")[e]||(r(this,mt,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=r(this,mt,"f")[e];if(!n)return this;const s=n.findIndex((e=>e.listener===t));return s>=0&&n.splice(s,1),this}once(e,t){return(r(this,mt,"f")[e]||(r(this,mt,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,n)=>{s(this,vt,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)}))}async done(){s(this,vt,!0,"f"),await r(this,pt,"f")}get currentMessage(){return r(this,ht,"f")}async finalMessage(){return await this.done(),r(this,lt,"m",xt).call(this)}async finalText(){return await this.done(),r(this,lt,"m",St).call(this)}_emit(e,...t){if(r(this,bt,"f"))return;"end"===e&&(s(this,bt,!0,"f"),r(this,yt,"f").call(this));const n=r(this,mt,"f")[e];if(n&&(r(this,mt,"f")[e]=n.filter((e=>!e.once)),n.forEach((({listener:e})=>e(...t)))),"abort"===e){const e=t[0];return r(this,vt,"f")||n?.length||Promise.reject(e),r(this,ft,"f").call(this,e),r(this,gt,"f").call(this,e),void this._emit("end")}if("error"===e){const e=t[0];r(this,vt,"f")||n?.length||Promise.reject(e),r(this,ft,"f").call(this,e),r(this,gt,"f").call(this,e),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",r(this,lt,"m",xt).call(this))}async _fromReadableStream(e,t){const n=t?.signal;let s;n&&(n.aborted&&this.controller.abort(),s=this.controller.abort.bind(this.controller),n.addEventListener("abort",s));try{r(this,lt,"m",At).call(this),this._connected(null);const t=te.fromReadableStream(e,this.controller);for await(const e of t)r(this,lt,"m",qt).call(this,e);if(t.controller.signal?.aborted)throw new h;r(this,lt,"m",Ot).call(this)}finally{n&&s&&n.removeEventListener("abort",s)}}[(ht=new WeakMap,ut=new WeakMap,dt=new WeakMap,ft=new WeakMap,pt=new WeakMap,yt=new WeakMap,gt=new WeakMap,mt=new WeakMap,bt=new WeakMap,wt=new WeakMap,kt=new WeakMap,vt=new WeakMap,_t=new WeakMap,Mt=new WeakMap,Rt=new WeakMap,lt=new WeakSet,xt=function(){if(0===this.receivedMessages.length)throw new c("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},St=function(){if(0===this.receivedMessages.length)throw new c("stream ended without producing a Message with role=assistant");const e=this.receivedMessages.at(-1).content.filter((e=>"text"===e.type)).map((e=>e.text));if(0===e.length)throw new c("stream ended without producing a content block with type=text");return e.join(" ")},At=function(){this.ended||s(this,ht,void 0,"f")},qt=function(e){if(this.ended)return;const t=r(this,lt,"m",Pt).call(this,e);switch(this._emit("streamEvent",e,t),e.type){case"content_block_delta":{const n=t.content.at(-1);switch(e.delta.type){case"text_delta":"text"===n.type&&this._emit("text",e.delta.text,n.text||"");break;case"citations_delta":"text"===n.type&&this._emit("citation",e.delta.citation,n.citations??[]);break;case"input_json_delta":jt(n)&&n.input&&this._emit("inputJson",e.delta.partial_json,n.input);break;case"thinking_delta":"thinking"===n.type&&this._emit("thinking",e.delta.thinking,n.thinking);break;case"signature_delta":"thinking"===n.type&&this._emit("signature",n.signature);break;default:e.delta}break}case"message_stop":this._addMessageParam(t),this._addMessage(t,!0);break;case"content_block_stop":this._emit("contentBlock",t.content.at(-1));break;case"message_start":s(this,ht,t,"f")}},Ot=function(){if(this.ended)throw new c("stream has ended, this shouldn't happen");const e=r(this,ht,"f");if(!e)throw new c("request ended without sending any chunks");return s(this,ht,void 0,"f"),e},Pt=function(e){let t=r(this,ht,"f");if("message_start"===e.type){if(t)throw new c(`Unexpected event order, got ${e.type} before receiving "message_stop"`);return e.message}if(!t)throw new c(`Unexpected event order, got ${e.type} before "message_start"`);switch(e.type){case"message_stop":case"content_block_stop":return t;case"message_delta":return t.stop_reason=e.delta.stop_reason,t.stop_sequence=e.delta.stop_sequence,t.usage.output_tokens=e.usage.output_tokens,null!=e.usage.input_tokens&&(t.usage.input_tokens=e.usage.input_tokens),null!=e.usage.cache_creation_input_tokens&&(t.usage.cache_creation_input_tokens=e.usage.cache_creation_input_tokens),null!=e.usage.cache_read_input_tokens&&(t.usage.cache_read_input_tokens=e.usage.cache_read_input_tokens),null!=e.usage.server_tool_use&&(t.usage.server_tool_use=e.usage.server_tool_use),t;case"content_block_start":return t.content.push({...e.content_block}),t;case"content_block_delta":{const n=t.content.at(e.index);switch(e.delta.type){case"text_delta":"text"===n?.type&&(t.content[e.index]={...n,text:(n.text||"")+e.delta.text});break;case"citations_delta":"text"===n?.type&&(t.content[e.index]={...n,citations:[...n.citations??[],e.delta.citation]});break;case"input_json_delta":if(n&&jt(n)){let s=n[$t]||"";s+=e.delta.partial_json;const r={...n};Object.defineProperty(r,$t,{value:s,enumerable:!1,writable:!0}),s&&(r.input=je(s)),t.content[e.index]=r}break;case"thinking_delta":"thinking"===n?.type&&(t.content[e.index]={...n,thinking:n.thinking+e.delta.thinking});break;case"signature_delta":"thinking"===n?.type&&(t.content[e.index]={...n,signature:e.delta.signature});break;default:e.delta}return t}}},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("streamEvent",(n=>{const s=t.shift();s?s.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new te(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}class Zt extends we{create(e,t){return this._client.post("/v1/messages/batches",{body:e,...t})}retrieve(e,t){return this._client.get(Re`/v1/messages/batches/${e}`,t)}list(e={},t){return this._client.getAPIList("/v1/messages/batches",ce,{query:e,...t})}delete(e,t){return this._client.delete(Re`/v1/messages/batches/${e}`,t)}cancel(e,t){return this._client.post(Re`/v1/messages/batches/${e}/cancel`,t)}async results(e,t){const n=await this.retrieve(e);if(!n.results_url)throw new c(`No batch \`results_url\`; Has it finished processing? ${n.processing_status} - ${n.id}`);return this._client.get(n.results_url,{...t,headers:_e([{Accept:"application/binary"},t?.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap(((e,t)=>Oe.fromResponse(t.response,t.controller)))}}class Lt extends we{constructor(){super(...arguments),this.batches=new Zt(this._client)}create(e,t){e.model in Et&&console.warn(`The model '${e.model}' is deprecated and will reach end-of-life on ${Et[e.model]}\nPlease migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let n=this._client._options.timeout;if(!e.stream&&null==n){const t=rt[e.model]??void 0;n=this._client.calculateNonstreamingTimeout(e.max_tokens,t)}return this._client.post("/v1/messages",{body:e,timeout:n??6e5,...t,stream:e.stream??!1})}stream(e,t){return Tt.createMessage(this,e,t)}countTokens(e,t){return this._client.post("/v1/messages/count_tokens",{body:e,...t})}}const Et={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-5-sonnet-20241022":"October 22, 2025","claude-3-5-sonnet-20240620":"October 22, 2025"};Lt.Batches=Zt;class It extends we{retrieve(e,t={},n){const{betas:s}=t??{};return this._client.get(Re`/v1/models/${e}`,{...n,headers:_e([{...null!=s?.toString()?{"anthropic-beta":s?.toString()}:void 0},n?.headers])})}list(e={},t){const{betas:n,...s}=e??{};return this._client.getAPIList("/v1/models",ce,{query:s,...t,headers:_e([{...null!=n?.toString()?{"anthropic-beta":n?.toString()}:void 0},t?.headers])})}}const Nt=e=>"undefined"!==typeof globalThis.process?globalThis.process.env?.[e]?.trim()??void 0:"undefined"!==typeof globalThis.Deno?globalThis.Deno.env?.get?.(e)?.trim():void 0;var Ut,Wt,Ht,Ct;class Dt{constructor({baseURL:e=Nt("ANTHROPIC_BASE_URL"),apiKey:t=Nt("ANTHROPIC_API_KEY")??null,authToken:n=Nt("ANTHROPIC_AUTH_TOKEN")??null,...r}={}){Ut.add(this),Ht.set(this,void 0);const a={apiKey:t,authToken:n,...r,baseURL:e||"https://api.anthropic.com"};if(!a.dangerouslyAllowBrowser&&"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof navigator)throw new c("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew Anthropic({ apiKey, dangerouslyAllowBrowser: true });\n");this.baseURL=a.baseURL,this.timeout=a.timeout??Wt.DEFAULT_TIMEOUT,this.logger=a.logger??console;const o="warn";this.logLevel=o,this.logLevel=V(a.logLevel,"ClientOptions.logLevel",this)??V(Nt("ANTHROPIC_LOG"),"process.env['ANTHROPIC_LOG']",this)??o,this.fetchOptions=a.fetchOptions,this.maxRetries=a.maxRetries??2,this.fetch=a.fetch??function(){if("undefined"!==typeof fetch)return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new Anthropic({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}(),s(this,Ht,Z,"f"),this._options=a,this.apiKey=t,this.authToken=n}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,authToken:this.authToken,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if((!this.apiKey||!e.get("x-api-key"))&&!t.has("x-api-key")&&(!this.authToken||!e.get("authorization"))&&!t.has("authorization"))throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}async authHeaders(e){return _e([await this.apiKeyAuth(e),await this.bearerAuth(e)])}async apiKeyAuth(e){if(null!=this.apiKey)return _e([{"X-Api-Key":this.apiKey}])}async bearerAuth(e){if(null!=this.authToken)return _e([{Authorization:`Bearer ${this.authToken}`}])}stringifyQuery(e){return Object.entries(e).filter((([e,t])=>"undefined"!==typeof t)).map((([e,t])=>{if("string"===typeof t||"number"===typeof t||"boolean"===typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new c(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)})).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${R}`}defaultIdempotencyKey(){return`stainless-node-retry-${a()}`}makeStatusError(e,t,n,s){return l.generate(e,t,n,s)}buildURL(e,t,n){const s=!r(this,Ut,"m",Ct).call(this)&&n||this.baseURL,a=(e=>v.test(e))(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return function(e){if(!e)return!0;for(const t in e)return!1;return!0}(o)||(t={...o,...t}),"object"===typeof t&&t&&!Array.isArray(t)&&(a.search=this.stringifyQuery(t)),a.toString()}_calculateNonstreamingTimeout(e){if(3600*e/128e3>600)throw new c("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#streaming-responses for more details");return 6e5}async prepareOptions(e){}async prepareRequest(e,{url:t,options:n}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then((n=>({method:e,path:t,...n}))))}request(e,t=null){return new ae(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,n){const s=await e,r=s.maxRetries??this.maxRetries;null==t&&(t=r),await this.prepareOptions(s);const{req:a,url:c,timeout:l}=await this.buildRequest(s,{retryCount:r-t});await this.prepareRequest(a,{url:c,options:s});const f="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),p=void 0===n?"":`, retryOf: ${n}`,y=Date.now();if(K(this).debug(`[${f}] sending request`,G({retryOfRequestLogID:n,method:s.method,url:c,options:s,headers:a.headers})),s.signal?.aborted)throw new h;const g=new AbortController,m=await this.fetchWithTimeout(c,a,l,g).catch(i),b=Date.now();if(m instanceof globalThis.Error){const e=`retrying, ${t} attempts remaining`;if(s.signal?.aborted)throw new h;const r=o(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(t)return K(this).info(`[${f}] connection ${r?"timed out":"failed"} - ${e}`),K(this).debug(`[${f}] connection ${r?"timed out":"failed"} (${e})`,G({retryOfRequestLogID:n,url:c,durationMs:b-y,message:m.message})),this.retryRequest(s,t,n??f);if(K(this).info(`[${f}] connection ${r?"timed out":"failed"} - error; no more retries left`),K(this).debug(`[${f}] connection ${r?"timed out":"failed"} (error; no more retries left)`,G({retryOfRequestLogID:n,url:c,durationMs:b-y,message:m.message})),r)throw new d;throw new u({cause:m})}const w=`[${f}${p}${[...m.headers.entries()].filter((([e])=>"request-id"===e)).map((([e,t])=>", "+e+": "+JSON.stringify(t))).join("")}] ${a.method} ${c} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${b-y}ms`;if(!m.ok){const e=await this.shouldRetry(m);if(t&&e){const e=`retrying, ${t} attempts remaining`;return await async function(e){if(null===e||"object"!==typeof e)return;if(e[Symbol.asyncIterator])return void(await(e[Symbol.asyncIterator]().return?.()));const t=e.getReader(),n=t.cancel();t.releaseLock(),await n}(m.body),K(this).info(`${w} - ${e}`),K(this).debug(`[${f}] response error (${e})`,G({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:b-y})),this.retryRequest(s,t,n??f,m.headers)}const r=e?"error; no more retries left":"error; not retryable";K(this).info(`${w} - ${r}`);const a=await m.text().catch((e=>i(e).message)),o=S(a),c=o?void 0:a;K(this).debug(`[${f}] response error (${r})`,G({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,message:c,durationMs:Date.now()-y}));throw this.makeStatusError(m.status,o,c,m.headers)}return K(this).info(w),K(this).debug(`[${f}] response start`,G({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:b-y})),{response:m,options:s,controller:g,requestLogID:f,retryOfRequestLogID:n,startTime:y}}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}requestAPIList(e,t){const n=this.makeRequest(t,null,void 0);return new ie(this,n,e)}async fetchWithTimeout(e,t,n,s){const{signal:r,method:a,...o}=t||{};r&&r.addEventListener("abort",(()=>s.abort()));const i=setTimeout((()=>s.abort()),n),c=globalThis.ReadableStream&&o.body instanceof globalThis.ReadableStream||"object"===typeof o.body&&null!==o.body&&Symbol.asyncIterator in o.body,l={signal:s.signal,...c?{duplex:"half"}:{},method:"GET",...o};a&&(l.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,l)}finally{clearTimeout(i)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n,s){let r;const a=s?.get("retry-after-ms");if(a){const e=parseFloat(a);Number.isNaN(e)||(r=e)}const o=s?.get("retry-after");if(o&&!r){const e=parseFloat(o);r=Number.isNaN(e)?Date.parse(o)-Date.now():1e3*e}if(!(r&&0<=r&&r<6e4)){const n=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(t,n)}var i;return await(i=r,new Promise((e=>setTimeout(e,i)))),this.makeRequest(e,t-1,n)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}calculateNonstreamingTimeout(e,t){const n=6e5;if(36e5*e/128e3>n||null!=t&&e>t)throw new c("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#long-requests for more details");return n}async buildRequest(e,{retryCount:t=0}={}){const n={...e},{method:s,path:r,query:a,defaultBaseURL:o}=n,i=this.buildURL(r,a,o);"timeout"in n&&((e,t)=>{if("number"!==typeof t||!Number.isInteger(t))throw new c(`${e} must be an integer`);if(t<0)throw new c(`${e} must be a positive integer`)})("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const{bodyHeaders:l,body:h}=this.buildBody({options:n});return{req:{method:s,headers:await this.buildHeaders({options:e,method:s,bodyHeaders:l,retryCount:t}),...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"},...h&&{body:h},...this.fetchOptions??{},...n.fetchOptions??{}},url:i,timeout:n.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:n,retryCount:s}){let r={};this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),r[this.idempotencyHeader]=e.idempotencyKey);const a=_e([r,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...P??(P=A()),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01"},await this.authHeaders(e),this._options.defaultHeaders,n,e.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=_e([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||"string"===typeof e&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:"object"===typeof e&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&"function"===typeof e.next)?{bodyHeaders:void 0,body:j(e)}:r(this,Ht,"f").call(this,{body:e,headers:n})}}Wt=Dt,Ht=new WeakMap,Ut=new WeakSet,Ct=function(){return"https://api.anthropic.com"!==this.baseURL},Dt.Anthropic=Wt,Dt.HUMAN_PROMPT="\\n\\nHuman:",Dt.AI_PROMPT="\\n\\nAssistant:",Dt.DEFAULT_TIMEOUT=6e5,Dt.AnthropicError=c,Dt.APIError=l,Dt.APIConnectionError=u,Dt.APIConnectionTimeoutError=d,Dt.APIUserAbortError=h,Dt.NotFoundError=g,Dt.ConflictError=m,Dt.RateLimitError=w,Dt.BadRequestError=f,Dt.AuthenticationError=p,Dt.InternalServerError=k,Dt.PermissionDeniedError=y,Dt.UnprocessableEntityError=b,Dt.toFile=async function(e,t,n){if(le(),e=await e,t||(t=ue(e)),(e=>null!=e&&"object"===typeof e&&"string"===typeof e.name&&"number"===typeof e.lastModified&&me(e))(e))return e instanceof File&&null==t&&null==n?e:he([await e.arrayBuffer()],t??e.name,{type:e.type,lastModified:e.lastModified,...n});if((e=>null!=e&&"object"===typeof e&&"string"===typeof e.url&&"function"===typeof e.blob)(e)){const s=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),he(await be(s),t,n)}const s=await be(e);if(!n?.type){const e=s.find((e=>"object"===typeof e&&"type"in e&&e.type));"string"===typeof e&&(n={...n,type:e})}return he(s,t,n)};class zt extends Dt{constructor(){super(...arguments),this.completions=new ct(this),this.messages=new Lt(this),this.models=new It(this),this.beta=new it(this)}}zt.Completions=ct,zt.Messages=Lt,zt.Models=It,zt.Beta=it}}]);