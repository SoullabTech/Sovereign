/* Import consciousness-aware fonts for archetypal communication */
@import url('https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:wght@400;700&family=Spectral:ital,wght@0,400;0,600;1,400;1,600&display=swap');

/* Enhanced typography for different consciousness styles */
@import url('https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@200;300;400;600&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;400;600&display=swap');
@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300;400;500&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global icon visibility fix - ensures all icons are visible */
@import url('./icon-fix.css');

/* Sacred holoflower animations */
/* @import url('../styles/sacred-animations.css'); */ /* TEMP: Disabled - missing file */

/* Consciousness-aware recognition animations */
/* @import url('../styles/consciousness-animations.css'); */ /* TEMP: Disabled - missing file */

/* Bene Gesserit ceremonial theme */
/* @import url('../styles/benegesserit-theme.css'); */ /* TEMP: Disabled - @layer base error blocking Tailwind compilation */

/* Custom animations for onboarding and voice interface */
@layer utilities {
  @keyframes spin-slow {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
  .animate-spin-slow {
    animation: spin-slow 8s linear infinite;
  }

  /* Tesla-style pulsing torus animations */
  @keyframes pulse-ring-outer {
    0%, 100% { 
      transform: scale(1) rotate(0deg);
      opacity: 1;
      border-color: rgb(245 158 11 / 0.3);
    }
    50% { 
      transform: scale(1.1) rotate(180deg);
      opacity: 0.6;
      border-color: rgb(245 158 11 / 0.6);
    }
  }

  @keyframes pulse-ring-middle {
    0%, 100% { 
      transform: scale(1) rotate(0deg);
      opacity: 0.8;
      border-color: rgb(251 191 36 / 0.5);
    }
    50% { 
      transform: scale(1.2) rotate(-90deg);
      opacity: 0.4;
      border-color: rgb(251 191 36 / 0.8);
    }
  }

  @keyframes pulse-core {
    0%, 100% { 
      transform: scale(1);
      box-shadow: 0 0 20px rgb(245 158 11 / 0.5);
    }
    50% { 
      transform: scale(1.1);
      box-shadow: 0 0 40px rgb(245 158 11 / 0.8), 0 0 60px rgb(245 158 11 / 0.4);
    }
  }

  .animate-pulse-ring-outer {
    animation: pulse-ring-outer 2s ease-in-out infinite;
  }

  .animate-pulse-ring-middle {
    animation: pulse-ring-middle 2s ease-in-out infinite 0.3s;
  }

  .animate-pulse-core {
    animation: pulse-core 2s ease-in-out infinite 0.1s;
  }

  .bg-gradient-radial {
    background: radial-gradient(circle, var(--tw-gradient-from), var(--tw-gradient-to));
  }

  /* ðŸ«€ Hearthlight Breathing - The Earth breathes with you */
  @keyframes hearthlight {
    0%, 100% {
      opacity: 0.95;
      filter: brightness(1.0);
    }
    50% {
      opacity: 1.0;
      filter: brightness(1.03);
    }
  }

  /* Apply breathing to soul-background */
  .bg-soul-background {
    animation: hearthlight 14s ease-in-out infinite;
  }

  /* ðŸœƒ Lumen - Precision instrument calibration breathing */
  @keyframes lumen {
    0%, 100% {
      filter: brightness(0.95);
      opacity: 0.95;
    }
    50% {
      filter: brightness(1.0);
      opacity: 1.0;
    }
  }

  /* Apply lumen to ambient halos and glows */
  .animate-lumen {
    animation: lumen 14s cubic-bezier(0.25, 0.1, 0.25, 1) infinite;
  }

  /* Utility class for pages with bottom menu bar */
  .pb-menu-bar {
    padding-bottom: calc(5rem + env(safe-area-inset-bottom));
  }
}

/* Sacred Color System - Transformational Experience */
@layer base {
  :root {
    /* === SAGE FOUNDATION - Earthly Wisdom === */
    --sage-50: #f0fdf4;
    --sage-100: #dcfce7;
    --sage-200: #bbf7d0;
    --sage-300: #86efac;
    --sage-400: #4ade80;
    --sage-500: #22c55e;
    --sage-600: #16a34a;
    --sage-700: #15803d;
    --sage-800: #166534;
    --sage-900: #14532d;

    /* === TEAL WISDOM - Water & Earth United === */
    --teal-50: #f0fdfa;
    --teal-100: #ccfbf1;
    --teal-200: #99f6e4;
    --teal-300: #5eead4;
    --teal-400: #2dd4bf;
    --teal-500: #14b8a6;
    --teal-600: #0d9488;
    --teal-700: #0f766e;
    --teal-800: #115e59;
    --teal-900: #134e4a;

    /* === NAVY CONTEMPLATION - Depth & Mystery === */
    --navy-50: #eff6ff;
    --navy-100: #dbeafe;
    --navy-200: #bfdbfe;
    --navy-300: #93c5fd;
    --navy-400: #60a5fa;
    --navy-500: #3b82f6;
    --navy-600: #2563eb;
    --navy-700: #1d4ed8;
    --navy-800: #1e40af;
    --navy-900: #1e3a8a;

    /* === WHITE CONSCIOUSNESS - Pure Awareness === */
    --white-pure: #ffffff;
    --white-soft: #fefefe;
    --white-warm: #fafafa;
    --white-cool: #f8fafc;

    /* === ELEMENT COLORS - Personal Resonance === */

    /* Fire - Passion & Transformation */
    --fire-50: #fef2f2;
    --fire-100: #fee2e2;
    --fire-200: #fecaca;
    --fire-300: #f87171;
    --fire-400: #f56565;
    --fire-500: #ef4444;
    --fire-600: #dc2626;
    --fire-700: #b91c1c;
    --fire-800: #991b1b;
    --fire-900: #7f1d1d;

    /* Water - Flow & Emotional Intelligence */
    --water-50: #eff6ff;
    --water-100: #dbeafe;
    --water-200: #bfdbfe;
    --water-300: #93c5fd;
    --water-400: #60a5fa;
    --water-500: #3b82f6;
    --water-600: #2563eb;
    --water-700: #1d4ed8;
    --water-800: #1e40af;
    --water-900: #1e3a8a;

    /* Earth - Grounding & Stability */
    --earth-50: #f0fdf4;
    --earth-100: #dcfce7;
    --earth-200: #bbf7d0;
    --earth-300: #86efac;
    --earth-400: #4ade80;
    --earth-500: #22c55e;
    --earth-600: #16a34a;
    --earth-700: #15803d;
    --earth-800: #166534;
    --earth-900: #14532d;

    /* Air - Vision & Intellect */
    --air-50: #faf5ff;
    --air-100: #f3e8ff;
    --air-200: #e9d5ff;
    --air-300: #d8b4fe;
    --air-400: #c084fc;
    --air-500: #a855f7;
    --air-600: #9333ea;
    --air-700: #7c3aed;
    --air-800: #6b21a8;
    --air-900: #581c87;

    /* Aether - Spirit & Transcendence */
    --aether-50: #fefce8;
    --aether-100: #fef3c7;
    --aether-200: #fde68a;
    --aether-300: #fcd34d;
    --aether-400: #fbbf24;
    --aether-500: #f59e0b;
    --aether-600: #d97706;
    --aether-700: #b45309;
    --aether-800: #92400e;
    --aether-900: #78350f;

    /* === SACRED TRANSITIONS - Animation & Motion === */
    --transition-consciousness: 2000ms cubic-bezier(0.25, 0.1, 0.25, 1);
    --transition-threshold: 1500ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-gentle: 800ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-ceremony: 1200ms cubic-bezier(0.25, 0.1, 0.25, 1);

    /* Sacred geometry movements */
    --sacred-pulse: 3s ease-in-out infinite;
    --sacred-rotation: 60s linear infinite;
    --sacred-breathe: 4s ease-in-out infinite;

    /* === RETREAT SPACING - Generous Sacred Rhythm === */
    --space-ceremony: 3rem;   /* Between ceremony phases */
    --space-content: 2rem;    /* Between content blocks */
    --space-element: 1.5rem;  /* Between UI elements */
    --space-sacred: 1rem;     /* Sacred minimum spacing */
  }
}

/* === SACRED COLOR UTILITIES === */
@layer utilities {
  /* Sage Foundation Colors */
  .text-sage-50 { color: rgb(240 253 244); }
  .text-sage-100 { color: rgb(220 252 231); }
  .text-sage-200 { color: rgb(187 247 208); }
  .text-sage-300 { color: rgb(134 239 172); }
  .text-sage-400 { color: rgb(74 222 128); }
  .text-sage-500 { color: rgb(34 197 94); }
  .text-sage-600 { color: rgb(22 163 74); }
  .text-sage-700 { color: rgb(21 128 61); }
  .text-sage-800 { color: rgb(22 101 52); }
  .text-sage-900 { color: rgb(20 83 45); }

  .bg-sage-50 { background-color: rgb(240 253 244); }
  .bg-sage-100 { background-color: rgb(220 252 231); }
  .bg-sage-200 { background-color: rgb(187 247 208); }
  .bg-sage-300 { background-color: rgb(134 239 172); }
  .bg-sage-400 { background-color: rgb(74 222 128); }
  .bg-sage-500 { background-color: rgb(34 197 94); }
  .bg-sage-600 { background-color: rgb(22 163 74); }
  .bg-sage-700 { background-color: rgb(21 128 61); }
  .bg-sage-800 { background-color: rgb(22 101 52); }
  .bg-sage-900 { background-color: rgb(20 83 45); }

  /* Navy Contemplation Colors */
  .text-navy-50 { color: rgb(239 246 255); }
  .text-navy-100 { color: rgb(219 234 254); }
  .text-navy-200 { color: rgb(191 219 254); }
  .text-navy-300 { color: rgb(147 197 253); }
  .text-navy-400 { color: rgb(96 165 250); }
  .text-navy-500 { color: rgb(59 130 246); }
  .text-navy-600 { color: rgb(37 99 235); }
  .text-navy-700 { color: rgb(29 78 216); }
  .text-navy-800 { color: rgb(30 64 175); }
  .text-navy-900 { color: rgb(30 58 138); }

  .bg-navy-50 { background-color: rgb(239 246 255); }
  .bg-navy-100 { background-color: rgb(219 234 254); }
  .bg-navy-200 { background-color: rgb(191 219 254); }
  .bg-navy-300 { background-color: rgb(147 197 253); }
  .bg-navy-400 { background-color: rgb(96 165 250); }
  .bg-navy-500 { background-color: rgb(59 130 246); }
  .bg-navy-600 { background-color: rgb(37 99 235); }
  .bg-navy-700 { background-color: rgb(29 78 216); }
  .bg-navy-800 { background-color: rgb(30 64 175); }
  .bg-navy-900 { background-color: rgb(30 58 138); }

  /* Sacred Gradients */
  .bg-sage-foundation {
    background: linear-gradient(135deg,
      var(--sage-50) 0%,
      var(--sage-100) 25%,
      var(--sage-200) 50%,
      var(--sage-300) 100%);
  }

  .bg-navy-contemplation {
    background: linear-gradient(135deg,
      var(--navy-600) 0%,
      var(--navy-700) 25%,
      var(--navy-800) 50%,
      var(--navy-900) 100%);
  }

  .bg-white-consciousness {
    background: radial-gradient(circle at center,
      var(--white-pure) 0%,
      var(--white-soft) 50%,
      var(--white-cool) 100%);
  }

  /* Element Gradients */
  .bg-fire-gradient {
    background: linear-gradient(45deg,
      var(--fire-100) 0%,
      var(--fire-200) 50%,
      var(--fire-500) 100%);
  }

  .bg-water-gradient {
    background: linear-gradient(45deg,
      var(--water-100) 0%,
      var(--water-200) 50%,
      var(--water-500) 100%);
  }

  .bg-earth-gradient {
    background: linear-gradient(45deg,
      var(--earth-100) 0%,
      var(--earth-200) 50%,
      var(--earth-500) 100%);
  }

  .bg-air-gradient {
    background: linear-gradient(45deg,
      var(--air-100) 0%,
      var(--air-200) 50%,
      var(--air-500) 100%);
  }

  .bg-aether-gradient {
    background: linear-gradient(45deg,
      var(--aether-100) 0%,
      var(--aether-200) 50%,
      var(--aether-500) 100%);
  }

  /* Sacred Typography */
  .font-ceremony {
    font-family: "Crimson Text", "Georgia", serif;
  }

  .font-interface {
    font-family: "Inter", "Helvetica Neue", sans-serif;
  }

  .font-wisdom {
    font-family: "Spectral", "Georgia", serif;
  }
}

/* Ensure inputs are always readable - prevents white text on white background */
@layer base {
  input, textarea, select {
    @apply text-gray-900 bg-white;
  }

  :root.dark input, :root.dark textarea, :root.dark select,
  html.dark input, html.dark textarea, html.dark select {
    @apply text-gray-100 bg-gray-900;
  }
}

/* PWA Mobile Optimizations */
@layer base {
  /* iOS Safe Area Support */
  html {
    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
  }

  /* Optimize for mobile without breaking desktop */
  body {
    width: 100%;
    min-height: 100vh;
    -webkit-overflow-scrolling: touch;
  }

  /* Main app container with better mobile handling */
  #__next, main {
    min-height: 100vh;
    -webkit-overflow-scrolling: touch;
  }

  /* Only apply strict viewport lock in standalone mode */
  @media all and (display-mode: standalone) {
    body {
      position: fixed;
      overflow: hidden;
      height: 100vh;
    }

    #__next, main {
      height: 100vh;
      overflow-y: auto;
    }
  }

  /* Disable user selection on UI elements */
  button, a, nav {
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
  }

  /* Remove tap highlight on mobile */
  * {
    -webkit-tap-highlight-color: transparent;
  }

  /* Smooth momentum scrolling on iOS */
  .scroll-container {
    -webkit-overflow-scrolling: touch;
    overflow-y: scroll;
  }

  /* Fix for iOS keyboard pushing content up */
  @supports (height: 100dvh) {
    body, #__next {
      height: 100dvh;
    }
  }

  /* iOS Notch Support - iPhone X and later */
  @supports (padding: max(0px)) {
    .safe-top {
      padding-top: max(1rem, env(safe-area-inset-top));
    }

    .safe-bottom {
      padding-bottom: max(1rem, env(safe-area-inset-bottom));
    }

    .safe-left {
      padding-left: max(1rem, env(safe-area-inset-left));
    }

    .safe-right {
      padding-right: max(1rem, env(safe-area-inset-right));
    }
  }

  /* Prevent zoom on input focus (iOS) */
  input[type="text"],
  input[type="email"],
  input[type="number"],
  input[type="tel"],
  input[type="password"],
  textarea,
  select {
    font-size: 16px !important;
  }

  /* iOS Standalone Mode Adjustments */
  @media all and (display-mode: standalone) {
    body {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    /* Hide scrollbars in standalone */
    ::-webkit-scrollbar {
      display: none;
    }

    * {
      scrollbar-width: none;
    }
  }

  /* Landscape orientation fixes */
  @media screen and (orientation: landscape) and (max-height: 500px) {
    .fixed.bottom-8 {
      bottom: 1rem;
    }

    .h-screen {
      height: 100vh;
      max-height: 100vh;
    }
  }

  /* Consciousness-Aware Typography System */
  .consciousness-header {
    font-family: 'Crimson Pro', serif;
    font-weight: 300;
    font-size: clamp(1.8rem, 4vw, 3.2rem);
    line-height: 1.4;
    color: var(--aether);
    text-align: center;
    margin: 2rem 0;
    position: relative;
  }

  .consciousness-header::after {
    content: '';
    position: absolute;
    bottom: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 60px;
    height: 2px;
    background: linear-gradient(90deg, var(--fire), var(--water));
    border-radius: 1px;
    opacity: 0.6;
  }

  .heart-text {
    font-family: 'Source Sans Pro', sans-serif;
    font-weight: 400;
    font-size: 1.125rem;
    line-height: 1.8;
    color: var(--water);
    margin: 1.5rem 0;
  }

  .clarity-text {
    font-family: 'IBM Plex Sans', sans-serif;
    font-weight: 400;
    font-size: 1rem;
    line-height: 1.6;
    color: var(--air-secondary);
    letter-spacing: 0.02em;
  }

  .grounded-text {
    font-family: 'Inter', sans-serif;
    font-weight: 500;
    font-size: 1rem;
    line-height: 1.4;
    color: var(--earth);
  }

  .sacred-subtitle {
    font-family: 'Spectral', serif;
    font-weight: 400;
    font-size: 1.25rem;
    line-height: 1.6;
    color: var(--aether-secondary);
    font-style: italic;
  }

  /* Archetypal Typography Adaptations */
  .fire-user .consciousness-header {
    color: var(--fire);
    font-weight: 400;
  }

  .water-user .consciousness-header {
    color: var(--water);
    line-height: 1.6;
  }

  .earth-user .consciousness-header {
    color: var(--earth);
    font-family: 'Source Sans Pro', sans-serif;
    font-weight: 500;
  }

  .air-user .consciousness-header {
    color: var(--air-tertiary);
    font-family: 'IBM Plex Sans', sans-serif;
    font-weight: 300;
    letter-spacing: 0.02em;
  }
}
